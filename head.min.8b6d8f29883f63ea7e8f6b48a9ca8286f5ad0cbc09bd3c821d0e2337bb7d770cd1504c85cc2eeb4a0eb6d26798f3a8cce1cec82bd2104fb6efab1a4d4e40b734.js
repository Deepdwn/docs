(()=>{var a=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},b=a((a,b)=>{(function(c,d){typeof a=="object"&&typeof b!="undefined"?d(a):typeof define=="function"&&define.amd?define(["exports"],d):(c=typeof globalThis!="undefined"?globalThis:c||self,d(c.Turbo={}))})(a,function(l){"use strict";var I,z,d,q,r,L,c,A,O,y,g,o,K,t,M,F,_,J,C,ah,aa,at,an,E,ap,H,R,u,s,f,ai,m,af,ac,au,W,U,T,P,k,X,ab,ad,am,ao,aq,ar,N,S,j,ag;(function(){var a,b;if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;a=HTMLElement,b={HTMLElement:function(){return Reflect.construct(a,[],this.constructor)}},window.HTMLElement=b.HTMLElement,HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)})(),I=new WeakMap;function a$(a){var c=a instanceof Element?a:a instanceof Node?a.parentElement:null,b=c?c.closest("input, button"):null;return(b===null||b===void 0?void 0:b.type)=="submit"?b:null}function a_(b){var a=a$(b.target);a&&a.form&&I.set(a.form,a)}(function(){if("SubmitEvent"in window)return;addEventListener("click",a_,!0),Object.defineProperty(Event.prototype,"submitter",{get:function(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return I.get(this.target)}})})(),z=function(a,b){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])},z(a,b)};function n(b,a){z(b,a);function c(){this.constructor=b}b.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}d=function(){return d=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++){a=arguments[b];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])}return d},d.apply(this,arguments)};function b(c,d,a,b){function e(b){return b instanceof a?b:new a(function(a){a(b)})}return new(a||(a=Promise))(function(g,f){function h(c){try{a(b.next(c))}catch(a){f(a)}}function i(c){try{a(b.throw(c))}catch(a){f(a)}}function a(a){a.done?g(a.value):e(a.value).then(h,i)}a((b=b.apply(c,d||[])).next())})}function a(g,h){var b={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},f,c,a,d;return d={next:e(0),throw:e(1),return:e(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function e(a){return function(b){return i([a,b])}}function i(d){if(f)throw new TypeError("Generator is already executing.");while(b)try{if(f=1,c&&(a=d[0]&2?c.return:d[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,d[1])).done)return a;switch(c=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return b.label++,{value:d[1],done:!1};case 5:b.label++,c=d[1],d=[0];continue;case 7:d=b.ops.pop(),b.trys.pop();continue;default:if(!(a=b.trys,a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){b=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){b.label=d[1];break}if(d[0]===6&&b.label<a[1]){b.label=a[1],a=d;break}if(a&&b.label<a[2]){b.label=a[2],b.ops.push(d);break}a[2]&&b.ops.pop(),b.trys.pop();continue}d=h.call(g,b)}catch(a){d=[6,a],c=0}finally{f=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function h(a){var b=typeof Symbol=="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(c,f){var a=typeof Symbol=="function"&&c[Symbol.iterator],d,b,g,e;if(!a)return c;d=a.call(c),g=[];try{while((f===void 0||f-- >0)&&!(b=d.next()).done)g.push(b.value)}catch(a){e={error:a}}finally{try{b&&!b.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return g}function e(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(x(arguments[b]));return a}function Q(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}(function(a){a.eager="eager",a.lazy="lazy"})(q||(q={})),r=function(b){n(a,b);function a(){var c=b.call(this)||this;return c.loaded=Promise.resolve(),c.delegate=new a.delegateConstructor(c),c}return Object.defineProperty(a,"observedAttributes",{get:function(){return["loading","src"]},enumerable:!1,configurable:!0}),a.prototype.connectedCallback=function(){this.delegate.connect()},a.prototype.disconnectedCallback=function(){this.delegate.disconnect()},a.prototype.attributeChangedCallback=function(a){a=="loading"?this.delegate.loadingStyleChanged():a=="src"&&this.delegate.sourceURLChanged()},Object.defineProperty(a.prototype,"src",{get:function(){return this.getAttribute("src")},set:function(a){a?this.setAttribute("src",a):this.removeAttribute("src")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"loading",{get:function(){return aZ(this.getAttribute("loading")||"")},set:function(a){a?this.setAttribute("loading",a):this.removeAttribute("loading")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"disabled",{get:function(){return this.hasAttribute("disabled")},set:function(a){a?this.setAttribute("disabled",""):this.removeAttribute("disabled")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"autoscroll",{get:function(){return this.hasAttribute("autoscroll")},set:function(a){a?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"complete",{get:function(){return!this.delegate.isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isActive",{get:function(){return this.ownerDocument===document&&!this.isPreview},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPreview",{get:function(){var a,b;return(b=(a=this.ownerDocument)===null||a===void 0?void 0:a.documentElement)===null||b===void 0?void 0:b.hasAttribute("data-turbo-preview")},enumerable:!1,configurable:!0}),a}(HTMLElement);function aZ(a){switch(a.toLowerCase()){case"lazy":return q.lazy;default:return q.eager}}function p(b){var a=document.createElement("a");return a.href=b.toString(),new URL(a.href)}function D(a){var b;return a.hash?a.hash.slice(1):(b=a.href.match(/#(.*)$/))?b[1]:""}function aY(a){return(aU(a).match(/\.[^.]*$/)||[])[0]||""}function aX(a){return!!aY(a).match(/^(?:|\.(?:htm|html|xhtml))$/)}function aW(a,c){var b=aT(c);return a.href===p(b).href||a.href.startsWith(b)}function B(a){var b=a.hash.length;return b<2?a.href:a.href.slice(0,-b)}function aV(a){return a.pathname.split("/").slice(1)}function aU(a){return aV(a).slice(-1)[0]}function aT(a){return aS(a.origin+a.pathname)}function aS(a){return a.endsWith("/")?a:a+"/"}L=function(){function a(a){this.response=a}return Object.defineProperty(a.prototype,"succeeded",{get:function(){return this.response.ok},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"failed",{get:function(){return!this.succeeded},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clientError",{get:function(){return this.statusCode>=400&&this.statusCode<=499},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"serverError",{get:function(){return this.statusCode>=500&&this.statusCode<=599},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"redirected",{get:function(){return this.response.redirected},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"location",{get:function(){return p(this.response.url)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isHTML",{get:function(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statusCode",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"contentType",{get:function(){return this.header("Content-Type")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"responseText",{get:function(){return this.response.text()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"responseHTML",{get:function(){return this.isHTML?this.response.text():Promise.resolve(void 0)},enumerable:!1,configurable:!0}),a.prototype.header=function(a){return this.response.headers.get(a)},a}();function i(g,c){var a=c===void 0?{}:c,d=a.target,e=a.cancelable,f=a.detail,b=new CustomEvent(g,{cancelable:e,bubbles:!0,detail:f});return void(d||document.documentElement).dispatchEvent(b),b}function G(){return new Promise(function(a){return requestAnimationFrame(function(){return a()})})}function aO(){return new Promise(function(a){return setTimeout(function(){return a()},0)})}function aN(){return Promise.resolve()}function Z(a){return a===void 0&&(a=""),(new DOMParser).parseFromString(a,"text/html")}function Y(e){for(var b=[],a=1,c,d,f;a<arguments.length;a++)b[a-1]=arguments[a];return c=aM(e,b).replace(/^\n/,"").split("\n"),d=c[0].match(/^\s+/),f=d?d[0].length:0,c.map(function(a){return a.slice(f)}).join("\n")}function aM(b,a){return b.reduce(function(c,d,b){var e=a[b]==void 0?"":a[b];return c+d+e},"")}function w(){return Array.apply(null,{length:36}).map(function(b,a){return a==8||a==13||a==18||a==23?"-":a==14?"4":a==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)}).join("")}(function(a){a[a.get=0]="get",a[a.post=1]="post",a[a.put=2]="put",a[a.patch=3]="patch",a[a.delete=4]="delete"})(c||(c={}));function aL(a){switch(a.toLowerCase()){case"get":return c.get;case"post":return c.post;case"put":return c.put;case"patch":return c.patch;case"delete":return c.delete}}A=function(){function f(c,d,b,a){a===void 0&&(a=new URLSearchParams),this.abortController=new AbortController,this.delegate=c,this.method=d,this.isIdempotent?this.url=aK(b,e(a.entries())):(this.body=a,this.url=b)}return Object.defineProperty(f.prototype,"location",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"params",{get:function(){return this.url.searchParams},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"entries",{get:function(){return this.body?Array.from(this.body.entries()):[]},enumerable:!1,configurable:!0}),f.prototype.cancel=function(){this.abortController.abort()},f.prototype.perform=function(){return b(this,void 0,void 0,function(){var b,d,c;return a(this,function(a){switch(a.label){case 0:b=this.fetchOptions,i("turbo:before-fetch-request",{detail:{fetchOptions:b}}),a.label=1;case 1:return a.trys.push([1,4,5,6]),this.delegate.requestStarted(this),[4,fetch(this.url.href,b)];case 2:return d=a.sent(),[4,this.receive(d)];case 3:return[2,a.sent()];case 4:throw c=a.sent(),this.delegate.requestErrored(this,c),c;case 5:return this.delegate.requestFinished(this),[7];case 6:return[2]}})})},f.prototype.receive=function(c){return b(this,void 0,void 0,function(){var b,d;return a(this,function(a){return b=new L(c),d=i("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:b}}),d.defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,b):b.succeeded?this.delegate.requestSucceededWithResponse(this,b):this.delegate.requestFailedWithResponse(this,b),[2,b]})})},Object.defineProperty(f.prototype,"fetchOptions",{get:function(){return{method:c[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.body,signal:this.abortSignal}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isIdempotent",{get:function(){return this.method==c.get},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"headers",{get:function(){var a=d({},this.defaultHeaders);return typeof this.delegate.prepareHeadersForRequest=="function"&&this.delegate.prepareHeadersForRequest(a,this),a},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"abortSignal",{get:function(){return this.abortController.signal},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"defaultHeaders",{get:function(){return{Accept:"text/html, application/xhtml+xml"}},enumerable:!1,configurable:!0}),f}();function aK(d,k){var i=new URLSearchParams(d.search),j,f,c,a,g,b,e;try{for(c=h(k),a=c.next();!a.done;a=c.next()){if(g=x(a.value,2),b=g[0],e=g[1],e instanceof File)continue;i.has(b)?(i.delete(b),d.searchParams.set(b,e)):d.searchParams.append(b,e)}}catch(a){f={error:a}}finally{try{a&&!a.done&&(j=c.return)&&j.call(c)}finally{if(f)throw f.error}}return d}O=function(){function a(b,c){var a=this;this.started=!1,this.intersect=function(c){var b=c.slice(-1)[0];(b===null||b===void 0?void 0:b.isIntersecting)&&a.delegate.elementAppearedInViewport(a.element)},this.delegate=b,this.element=c,this.intersectionObserver=new IntersectionObserver(this.intersect)}return a.prototype.start=function(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))},a.prototype.stop=function(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))},a}(),y=function(){function a(a){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=a}return a.wrap=function(a){return typeof a=="string"?new this(a):a},Object.defineProperty(a.prototype,"fragment",{get:function(){var e=document.createDocumentFragment(),d,c,b,a,f;try{for(b=h(this.foreignElements),a=b.next();!a.done;a=b.next())f=a.value,e.appendChild(document.importNode(f,!0))}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}return e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"foreignElements",{get:function(){return this.templateChildren.reduce(function(a,b){return b.tagName.toLowerCase()=="turbo-stream"?e(a,[b]):a},[])},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"templateChildren",{get:function(){return Array.from(this.templateElement.content.children)},enumerable:!1,configurable:!0}),a.contentType="text/vnd.turbo-stream.html",a}(),function(a){a[a.initialized=0]="initialized",a[a.requesting=1]="requesting",a[a.waiting=2]="waiting",a[a.receiving=3]="receiving",a[a.stopping=4]="stopping",a[a.stopped=5]="stopped"}(g||(g={})),function(a){a.urlEncoded="application/x-www-form-urlencoded",a.multipart="multipart/form-data",a.plain="text/plain"}(o||(o={}));function bg(a){switch(a.toLowerCase()){case o.multipart:return o.multipart;case o.plain:return o.plain;default:return o.urlEncoded}}K=function(){function f(d,b,c,a){a===void 0&&(a=!1),this.state=g.initialized,this.delegate=d,this.formElement=b,this.submitter=c,this.formData=aJ(b,c),this.fetchRequest=new A(this,this.method,this.location,this.body),this.mustRedirect=a}return Object.defineProperty(f.prototype,"method",{get:function(){var b=((a=this.submitter)===null||a===void 0?void 0:a.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"",a;return aL(b.toLowerCase())||c.get},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"action",{get:function(){var a;return((a=this.submitter)===null||a===void 0?void 0:a.getAttribute("formaction"))||this.formElement.action},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"location",{get:function(){return p(this.action)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"body",{get:function(){return this.enctype==o.urlEncoded||this.method==c.get?new URLSearchParams(this.stringFormData):this.formData},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enctype",{get:function(){var a;return bg(((a=this.submitter)===null||a===void 0?void 0:a.getAttribute("formenctype"))||this.formElement.enctype)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"stringFormData",{get:function(){return e(this.formData).reduce(function(c,d){var a=x(d,2),e=a[0],b=a[1];return c.concat(typeof b=="string"?[[e,b]]:[])},[])},enumerable:!1,configurable:!0}),f.prototype.start=function(){return b(this,void 0,void 0,function(){var b,c;return a(this,function(a){return b=g.initialized,c=g.requesting,this.state==b?(this.state=c,[2,this.fetchRequest.perform()]):[2]})})},f.prototype.stop=function(){var a=g.stopping,b=g.stopped;if(this.state!=a&&this.state!=b)return this.state=a,this.fetchRequest.cancel(),!0},f.prototype.prepareHeadersForRequest=function(a,c){if(!c.isIdempotent){var b=aI($("csrf-param"))||$("csrf-token");b&&(a["X-CSRF-Token"]=b),a.Accept=[y.contentType,a.Accept].join(", ")}},f.prototype.requestStarted=function(a){this.state=g.waiting,i("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)},f.prototype.requestPreventedHandlingResponse=function(b,a){this.result={success:a.succeeded,fetchResponse:a}},f.prototype.requestSucceededWithResponse=function(b,a){if(a.clientError||a.serverError)this.delegate.formSubmissionFailedWithResponse(this,a);else if(this.requestMustRedirect(b)&&aH(a)){var c=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,c)}else this.state=g.receiving,this.result={success:!0,fetchResponse:a},this.delegate.formSubmissionSucceededWithResponse(this,a)},f.prototype.requestFailedWithResponse=function(b,a){this.result={success:!1,fetchResponse:a},this.delegate.formSubmissionFailedWithResponse(this,a)},f.prototype.requestErrored=function(b,a){this.result={success:!1,error:a},this.delegate.formSubmissionErrored(this,a)},f.prototype.requestFinished=function(a){this.state=g.stopped,i("turbo:submit-end",{target:this.formElement,detail:d({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)},f.prototype.requestMustRedirect=function(a){return!a.isIdempotent&&this.mustRedirect},f}();function aJ(e,a){var b=new FormData(e),c=a===null||a===void 0?void 0:a.getAttribute("name"),d=a===null||a===void 0?void 0:a.getAttribute("value");return c&&b.get(c)!=d&&b.append(c,d||""),b}function aI(c){var d,a,b;if(c!=null)if(d=document.cookie?document.cookie.split("; "):[],a=d.find(function(a){return a.startsWith(c)}),a)return b=a.split("=").slice(1).join("="),b?decodeURIComponent(b):void 0}function $(b){var a=document.querySelector('meta[name="'+b+'"]');return a&&a.content}function aH(a){return a.statusCode==200&&!a.redirected}t=function(){function a(a){this.element=a}return Object.defineProperty(a.prototype,"children",{get:function(){return e(this.element.children)},enumerable:!1,configurable:!0}),a.prototype.hasAnchor=function(a){return this.getElementForAnchor(a)!=null},a.prototype.getElementForAnchor=function(a){try{return this.element.querySelector("[id='"+a+"'], a[name='"+a+"']")}catch(a){return null}},Object.defineProperty(a.prototype,"firstAutofocusableElement",{get:function(){return this.element.querySelector("[autofocus]")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"permanentElements",{get:function(){return e(this.element.querySelectorAll("[id][data-turbo-permanent]"))},enumerable:!1,configurable:!0}),a.prototype.getPermanentElementById=function(a){return this.element.querySelector("#"+a+"[data-turbo-permanent]")},a.prototype.getPermanentElementsPresentInSnapshot=function(a){return this.permanentElements.filter(function(b){var c=b.id;return a.getPermanentElementById(c)})},a}(),M=function(){function a(b,c){var a=this;this.submitBubbled=function(b){var c,d;b.target instanceof HTMLFormElement&&(c=b.target,d=b.submitter||void 0,a.delegate.shouldInterceptFormSubmission(c,d)&&(b.preventDefault(),b.stopImmediatePropagation(),a.delegate.formSubmissionIntercepted(c,d)))},this.delegate=b,this.element=c}return a.prototype.start=function(){this.element.addEventListener("submit",this.submitBubbled)},a.prototype.stop=function(){this.element.removeEventListener("submit",this.submitBubbled)},a}(),F=function(){function c(a,b){this.delegate=a,this.element=b}return c.prototype.scrollToAnchor=function(b){var a=this.snapshot.getElementForAnchor(b);a?this.scrollToElement(a):this.scrollToPosition({x:0,y:0})},c.prototype.scrollToElement=function(a){a.scrollIntoView()},c.prototype.scrollToPosition=function(a){var b=a.x,c=a.y;this.scrollRoot.scrollTo(b,c)},Object.defineProperty(c.prototype,"scrollRoot",{get:function(){return window},enumerable:!1,configurable:!0}),c.prototype.render=function(c){return b(this,void 0,void 0,function(){var b,e,d;return a(this,function(a){switch(a.label){case 0:if(this.renderer)throw new Error("rendering is already in progress");if(b=c.isPreview,e=c.shouldRender,d=c.newSnapshot,!e)return[3,5];a.label=1;case 1:return a.trys.push([1,,3,4]),this.renderer=c,this.prepareToRenderSnapshot(c),this.delegate.viewWillRenderSnapshot(d,b),[4,this.renderSnapshot(c)];case 2:return a.sent(),this.delegate.viewRenderedSnapshot(d,b),this.finishRenderingSnapshot(c),[3,4];case 3:return delete this.renderer,[7];case 4:return[3,6];case 5:this.invalidate(),a.label=6;case 6:return[2]}})})},c.prototype.invalidate=function(){this.delegate.viewInvalidated()},c.prototype.prepareToRenderSnapshot=function(a){this.markAsPreview(a.isPreview),a.prepareToRender()},c.prototype.markAsPreview=function(a){a?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")},c.prototype.renderSnapshot=function(c){return b(this,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return[4,c.render()];case 1:return a.sent(),[2]}})})},c.prototype.finishRenderingSnapshot=function(a){a.finishRendering()},c}(),_=function(b){n(a,b);function a(){return b!==null&&b.apply(this,arguments)||this}return a.prototype.invalidate=function(){this.element.innerHTML=""},Object.defineProperty(a.prototype,"snapshot",{get:function(){return new t(this.element)},enumerable:!1,configurable:!0}),a}(F),J=function(){function a(b,c){var a=this;this.clickBubbled=function(b){a.respondsToEventTarget(b.target)?a.clickEvent=b:delete a.clickEvent},this.linkClicked=function(b){a.clickEvent&&a.respondsToEventTarget(b.target)&&b.target instanceof Element&&a.delegate.shouldInterceptLinkClick(b.target,b.detail.url)&&(a.clickEvent.preventDefault(),b.preventDefault(),a.delegate.linkClickIntercepted(b.target,b.detail.url)),delete a.clickEvent},this.willVisit=function(){delete a.clickEvent},this.delegate=b,this.element=c}return a.prototype.start=function(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)},a.prototype.stop=function(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)},a.prototype.respondsToEventTarget=function(a){var b=a instanceof Element?a:a instanceof Node?a.parentElement:null;return b&&b.closest("turbo-frame, html")==this.element},a}(),C=function(){function a(a,b,c){var d=this;this.currentSnapshot=a,this.newSnapshot=b,this.isPreview=c,this.promise=new Promise(function(a,b){return d.resolvingFunctions={resolve:a,reject:b}})}return Object.defineProperty(a.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.prepareToRender=function(){},a.prototype.finishRendering=function(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)},a.prototype.createScriptElement=function(a){if(a.getAttribute("data-turbo-eval")=="false")return a;var b=document.createElement("script");return b.textContent=a.textContent,b.async=!1,aF(b,a),b},a.prototype.preservingPermanentElements=function(a){var b=aD(this.currentSnapshot,this.newSnapshot);a(),aE(b)},a.prototype.focusFirstAutofocusableElement=function(){var a=this.newSnapshot.firstAutofocusableElement;aC(a)&&a.focus()},Object.defineProperty(a.prototype,"currentElement",{get:function(){return this.currentSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),a}();function v(a,c){var b=a.parentElement;if(b)return b.replaceChild(c,a)}function aF(i,g){var c,f,b,a,d,j,k;try{for(b=h(e(g.attributes)),a=b.next();!a.done;a=b.next())d=a.value,j=d.name,k=d.value,i.setAttribute(j,k)}catch(a){c={error:a}}finally{try{a&&!a.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}}function aA(b){var a=document.createElement("meta");return a.setAttribute("name","turbo-permanent-placeholder"),a.setAttribute("content",b.id),{element:a,permanentElement:b}}function aE(f){var c,d,b,a,e,g,i,j;try{for(b=h(f),a=b.next();!a.done;a=b.next())e=a.value,g=e.element,i=e.permanentElement,j=i.cloneNode(!0),v(g,j)}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}}function aD(b,a){return b.getPermanentElementsPresentInSnapshot(a).reduce(function(c,b){var d=a.getPermanentElementById(b.id),f;return d?(f=aA(b),v(b,f.element),v(d,b),e(c,[f])):c},[])}function aC(a){return a&&typeof a.focus=="function"}ah=function(d){n(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.render=function(){return b(this,void 0,void 0,function(){var b=this;return a(this,function(a){switch(a.label){case 0:return[4,G()];case 1:return a.sent(),this.preservingPermanentElements(function(){b.loadFrameElement()}),this.scrollFrameIntoView(),[4,G()];case 2:return a.sent(),this.focusFirstAutofocusableElement(),[2]}})})},c.prototype.loadFrameElement=function(){var c=document.createRange(),a,d,b;c.selectNodeContents(this.currentElement),c.deleteContents(),d=this.newElement,b=(a=d.ownerDocument)===null||a===void 0?void 0:a.createRange(),b&&(b.selectNodeContents(d),this.currentElement.appendChild(b.extractContents()))},c.prototype.scrollFrameIntoView=function(){var a,b;if(this.currentElement.autoscroll||this.newElement.autoscroll)if(a=this.currentElement.firstElementChild,b=aB(this.currentElement.getAttribute("data-autoscroll-block"),"end"),a)return a.scrollIntoView({block:b}),!0;return!1},c}(C);function aB(a,b){return a=="end"||a=="start"||a=="center"||a=="nearest"?a:b}aa=function(){function d(a){this.resolveVisitPromise=function(){},this.element=a,this.view=new _(this,this.element),this.appearanceObserver=new O(this,this.element),this.linkInterceptor=new J(this,this.element),this.formInterceptor=new M(this,this.element)}return d.prototype.connect=function(){this.loadingStyle==q.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start()},d.prototype.disconnect=function(){this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop()},d.prototype.sourceURLChanged=function(){this.loadingStyle==q.eager&&this.loadSourceURL()},d.prototype.loadingStyleChanged=function(){this.loadingStyle==q.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())},d.prototype.loadSourceURL=function(){return b(this,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:if(!(this.isActive&&this.sourceURL&&this.sourceURL!=this.loadingURL))return[3,4];a.label=1;case 1:return a.trys.push([1,,3,4]),this.loadingURL=this.sourceURL,this.element.loaded=this.visit(this.sourceURL),this.appearanceObserver.stop(),[4,this.element.loaded];case 2:return a.sent(),[3,4];case 3:return delete this.loadingURL,[7];case 4:return[2]}})})},d.prototype.loadResponse=function(c){return b(this,void 0,void 0,function(){var b,d,e,f,g,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),[4,c.responseHTML];case 1:return b=a.sent(),!b?[3,4]:(d=Z(b).body,f=t.bind,[4,this.extractForeignFrameElement(d)]);case 2:return e=new(f.apply(t,[void 0,a.sent()])),g=new ah(this.view.snapshot,e,!1),[4,this.view.render(g)];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:return h=a.sent(),console.error(h),this.view.invalidate(),[3,6];case 6:return[2]}})})},d.prototype.elementAppearedInViewport=function(a){this.loadSourceURL()},d.prototype.shouldInterceptLinkClick=function(a,b){return this.shouldInterceptNavigation(a)},d.prototype.linkClickIntercepted=function(a,b){this.navigateFrame(a,b)},d.prototype.shouldInterceptFormSubmission=function(a){return this.shouldInterceptNavigation(a)},d.prototype.formSubmissionIntercepted=function(a,b){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new K(this,a,b),this.formSubmission.fetchRequest.isIdempotent?this.navigateFrame(a,this.formSubmission.fetchRequest.url.href):this.formSubmission.start()},d.prototype.prepareHeadersForRequest=function(a,b){a["Turbo-Frame"]=this.id},d.prototype.requestStarted=function(a){this.element.setAttribute("busy","")},d.prototype.requestPreventedHandlingResponse=function(a,b){this.resolveVisitPromise()},d.prototype.requestSucceededWithResponse=function(d,c){return b(this,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return[4,this.loadResponse(c)];case 1:return a.sent(),this.resolveVisitPromise(),[2]}})})},d.prototype.requestFailedWithResponse=function(b,a){console.error(a),this.resolveVisitPromise()},d.prototype.requestErrored=function(b,a){console.error(a),this.resolveVisitPromise()},d.prototype.requestFinished=function(a){this.element.removeAttribute("busy")},d.prototype.formSubmissionStarted=function(a){},d.prototype.formSubmissionSucceededWithResponse=function(a,b){var c=this.findFrameElement(a.formElement);c.delegate.loadResponse(b)},d.prototype.formSubmissionFailedWithResponse=function(b,a){this.element.delegate.loadResponse(a)},d.prototype.formSubmissionErrored=function(a,b){},d.prototype.formSubmissionFinished=function(a){},d.prototype.viewWillRenderSnapshot=function(a,b){},d.prototype.viewRenderedSnapshot=function(a,b){},d.prototype.viewInvalidated=function(){},d.prototype.visit=function(d){return b(this,void 0,void 0,function(){var e=this,b;return a(this,function(a){return b=new A(this,c.get,p(d)),[2,new Promise(function(a){e.resolveVisitPromise=function(){e.resolveVisitPromise=function(){},a()},b.perform()})]})})},d.prototype.navigateFrame=function(a,b){var c=this.findFrameElement(a);c.src=b},d.prototype.findFrameElement=function(b){var c=b.getAttribute("data-turbo-frame")||this.element.getAttribute("target"),a;return(a=ak(c))!==null&&a!==void 0?a:this.element},d.prototype.extractForeignFrameElement=function(c){return b(this,void 0,void 0,function(){var b,d;return a(this,function(a){switch(a.label){case 0:return(d=CSS.escape(this.id),b=al(c.querySelector("turbo-frame#"+d)))?[2,b]:(b=al(c.querySelector("turbo-frame[src][recurse~="+d+"]")))?[4,b.loaded]:[3,3];case 1:return a.sent(),[4,this.extractForeignFrameElement(b)];case 2:return[2,a.sent()];case 3:return console.error('Response has no matching <turbo-frame id="'+d+'"> element'),[2,new r]}})})},d.prototype.shouldInterceptNavigation=function(c){var a=c.getAttribute("data-turbo-frame")||this.element.getAttribute("target"),b;if(!this.enabled||a=="_top")return!1;if(a)if(b=ak(a),b)return!b.disabled;return!0},Object.defineProperty(d.prototype,"id",{get:function(){return this.element.id},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"enabled",{get:function(){return!this.element.disabled},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sourceURL",{get:function(){return this.element.src},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"loadingStyle",{get:function(){return this.element.loading},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isLoading",{get:function(){return this.formSubmission!==void 0||this.loadingURL!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isActive",{get:function(){return this.element.isActive},enumerable:!1,configurable:!0}),d}();function ak(a){if(a!=null){var b=document.getElementById(a);if(b instanceof r)return b}}function al(a){if(a&&a.ownerDocument!==document&&(a=document.importNode(a,!0)),a instanceof r)return a}at={append:function(){var a;(a=this.targetElement)===null||a===void 0?void 0:a.append(this.templateContent)},prepend:function(){var a;(a=this.targetElement)===null||a===void 0?void 0:a.prepend(this.templateContent)},remove:function(){var a;(a=this.targetElement)===null||a===void 0?void 0:a.remove()},replace:function(){var a;(a=this.targetElement)===null||a===void 0?void 0:a.replaceWith(this.templateContent)},update:function(){this.targetElement&&(this.targetElement.innerHTML="",this.targetElement.append(this.templateContent))}},an=function(d){n(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.prototype.connectedCallback=function(){return b(this,void 0,void 0,function(){var b;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),[4,this.render()];case 1:return a.sent(),[3,4];case 2:return b=a.sent(),console.error(b),[3,4];case 3:return this.disconnect(),[7];case 4:return[2]}})})},c.prototype.render=function(){var c;return b(this,void 0,void 0,function(){var d=this;return a(this,function(e){return[2,(c=this.renderPromise)!==null&&c!==void 0?c:this.renderPromise=function(){return b(d,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return this.dispatchEvent(this.beforeRenderEvent)?[4,G()]:[3,2];case 1:a.sent(),this.performAction(),a.label=2;case 2:return[2]}})})}()]})})},c.prototype.disconnect=function(){try{this.remove()}catch(a){}},Object.defineProperty(c.prototype,"performAction",{get:function(){if(this.action){var a=at[this.action];if(a)return a;this.raise("unknown action")}this.raise("action attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"targetElement",{get:function(){var a;if(this.target)return(a=this.ownerDocument)===null||a===void 0?void 0:a.getElementById(this.target);this.raise("target attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"templateContent",{get:function(){return this.templateElement.content},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"templateElement",{get:function(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"action",{get:function(){return this.getAttribute("action")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"target",{get:function(){return this.getAttribute("target")},enumerable:!1,configurable:!0}),c.prototype.raise=function(a){throw new Error(this.description+": "+a)},Object.defineProperty(c.prototype,"description",{get:function(){var a,b;return(b=((a=this.outerHTML.match(/<[^>]+>/))!==null&&a!==void 0?a:[])[0])!==null&&b!==void 0?b:"<turbo-stream>"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"beforeRenderEvent",{get:function(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})},enumerable:!1,configurable:!0}),c}(HTMLElement),r.delegateConstructor=aa,customElements.define("turbo-frame",r),customElements.define("turbo-stream",an),function(){var a=document.currentScript;if(!a)return;if(a.hasAttribute("data-turbo-suppress-warning"))return;while(a=a.parentElement)if(a==document.body)return console.warn(Y(E||(E=Q(['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      '],['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      ']))),a.outerHTML)}(),ap=function(){function a(){var a=this;this.hiding=!1,this.value=0,this.visible=!1,this.trickle=function(){a.setValue(a.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}return Object.defineProperty(a,"defaultCSS",{get:function(){return Y(H||(H=Q(["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "],["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "])),a.animationDuration,a.animationDuration/2,a.animationDuration/2)},enumerable:!1,configurable:!0}),a.prototype.show=function(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())},a.prototype.hide=function(){var a=this;this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(function(){a.uninstallProgressElement(),a.stopTrickling(),a.visible=!1,a.hiding=!1}))},a.prototype.setValue=function(a){this.value=a,this.refresh()},a.prototype.installStylesheetElement=function(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},a.prototype.installProgressElement=function(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},a.prototype.fadeProgressElement=function(b){this.progressElement.style.opacity="0",setTimeout(b,a.animationDuration*1.5)},a.prototype.uninstallProgressElement=function(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)},a.prototype.startTrickling=function(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,a.animationDuration))},a.prototype.stopTrickling=function(){window.clearInterval(this.trickleInterval),delete this.trickleInterval},a.prototype.refresh=function(){var a=this;requestAnimationFrame(function(){a.progressElement.style.width=10+a.value*90+"%"})},a.prototype.createStylesheetElement=function(){var b=document.createElement("style");return b.type="text/css",b.textContent=a.defaultCSS,b},a.prototype.createProgressElement=function(){var a=document.createElement("div");return a.className="turbo-progress-bar",a},a.animationDuration=300,a}(),R=function(b){n(a,b);function a(){var a=b!==null&&b.apply(this,arguments)||this;return a.detailsByOuterHTML=a.children.reduce(function(b,a){var f=a.outerHTML,g=f in b?b[f]:{type:az(a),tracked:ay(a),elements:[]},c;return d(d({},b),(c={},c[f]=d(d({},g),{elements:e(g.elements,[a])}),c))},{}),a}return Object.defineProperty(a.prototype,"trackedElementSignature",{get:function(){var a=this;return Object.keys(this.detailsByOuterHTML).filter(function(b){return a.detailsByOuterHTML[b].tracked}).join("")},enumerable:!1,configurable:!0}),a.prototype.getScriptElementsNotInSnapshot=function(a){return this.getElementsMatchingTypeNotInSnapshot("script",a)},a.prototype.getStylesheetElementsNotInSnapshot=function(a){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",a)},a.prototype.getElementsMatchingTypeNotInSnapshot=function(a,b){var c=this;return Object.keys(this.detailsByOuterHTML).filter(function(a){return!(a in b.detailsByOuterHTML)}).map(function(a){return c.detailsByOuterHTML[a]}).filter(function(b){var c=b.type;return c==a}).map(function(a){var b=x(a.elements,1),c=b[0];return c})},Object.defineProperty(a.prototype,"provisionalElements",{get:function(){var a=this;return Object.keys(this.detailsByOuterHTML).reduce(function(b,f){var c=a.detailsByOuterHTML[f],g=c.type,h=c.tracked,d=c.elements;return g==null&&!h?e(b,d):d.length>1?e(b,d.slice(1)):b},[])},enumerable:!1,configurable:!0}),a.prototype.getMetaValue=function(b){var a=this.findMetaElementByName(b);return a?a.getAttribute("content"):null},a.prototype.findMetaElementByName=function(a){var b=this;return Object.keys(this.detailsByOuterHTML).reduce(function(d,e){var f=x(b.detailsByOuterHTML[e].elements,1),c=f[0];return ax(c,a)?c:d},void 0)},a}(t);function az(a){if(av(a))return"script";if(aw(a))return"stylesheet"}function ay(a){return a.getAttribute("data-turbo-track")=="reload"}function av(a){var b=a.tagName.toLowerCase();return b=="script"}function aw(a){var b=a.tagName.toLowerCase();return b=="style"||b=="link"&&a.getAttribute("rel")=="stylesheet"}function ax(a,b){var c=a.tagName.toLowerCase();return c=="meta"&&a.getAttribute("name")==b}u=function(b){n(a,b);function a(c,d){var a=b.call(this,c)||this;return a.headSnapshot=d,a}return a.fromHTMLString=function(a){return a===void 0&&(a=""),this.fromDocument(Z(a))},a.fromElement=function(a){return this.fromDocument(a.ownerDocument)},a.fromDocument=function(a){var b=a.head,c=a.body;return new this(c,new R(b))},a.prototype.clone=function(){return new a(this.element.cloneNode(!0),this.headSnapshot)},Object.defineProperty(a.prototype,"headElement",{get:function(){return this.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rootLocation",{get:function(){var b=(a=this.getSetting("root"))!==null&&a!==void 0?a:"/",a;return p(b)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cacheControlValue",{get:function(){return this.getSetting("cache-control")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPreviewable",{get:function(){return this.cacheControlValue!="no-preview"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isCacheable",{get:function(){return this.cacheControlValue!="no-cache"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isVisitable",{get:function(){return this.getSetting("visit-control")!="reload"},enumerable:!1,configurable:!0}),a.prototype.getSetting=function(a){return this.headSnapshot.getMetaValue("turbo-"+a)},a}(t),function(a){a.visitStart="visitStart",a.requestStart="requestStart",a.requestEnd="requestEnd",a.visitEnd="visitEnd"}(s||(s={})),function(a){a.initialized="initialized",a.started="started",a.canceled="canceled",a.failed="failed",a.completed="completed"}(f||(f={})),ai={action:"advance",historyChanged:!1},function(a){a[a.networkFailure=0]="networkFailure",a[a.timeoutFailure=-1]="timeoutFailure",a[a.contentTypeMismatch=-2]="contentTypeMismatch"}(m||(m={})),af=function(){function e(c,e,g,b){b===void 0&&(b={}),this.identifier=w(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=f.initialized,this.delegate=c,this.location=e,this.restorationIdentifier=g||w();var a=d(d({},ai),b),h=a.action,i=a.historyChanged,j=a.referrer,k=a.snapshotHTML,l=a.response;this.action=h,this.historyChanged=i,this.referrer=j,this.snapshotHTML=k,this.response=l}return Object.defineProperty(e.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restorationData",{get:function(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.state==f.initialized&&(this.recordTimingMetric(s.visitStart),this.state=f.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))},e.prototype.cancel=function(){this.state==f.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=f.canceled)},e.prototype.complete=function(){this.state==f.started&&(this.recordTimingMetric(s.visitEnd),this.state=f.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this))},e.prototype.fail=function(){this.state==f.started&&(this.state=f.failed,this.adapter.visitFailed(this))},e.prototype.changeHistory=function(){var a,b,c;this.historyChanged||(b=this.location.href===((a=this.referrer)===null||a===void 0?void 0:a.href)?"replace":this.action,c=this.getHistoryMethodForAction(b),this.history.update(c,this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new A(this,c.get,this.location),this.request.perform())},e.prototype.simulateRequest=function(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())},e.prototype.startRequest=function(){this.recordTimingMetric(s.requestStart),this.adapter.visitRequestStarted(this)},e.prototype.recordResponse=function(a){if(a===void 0&&(a=this.response),this.response=a,a){var b=a.statusCode;ae(b)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,b)}},e.prototype.finishRequest=function(){this.recordTimingMetric(s.requestEnd),this.adapter.visitRequestFinished(this)},e.prototype.loadResponse=function(){var e=this,d,f,c;this.response&&(d=this.response,f=d.statusCode,c=d.responseHTML,this.render(function(){return b(e,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return this.cacheSnapshot(),!(ae(f)&&c!=null)?[3,2]:[4,this.view.renderPage(u.fromHTMLString(c))];case 1:return a.sent(),this.adapter.visitRendered(this),this.complete(),[3,4];case 2:return[4,this.view.renderError(u.fromHTMLString(c))];case 3:a.sent(),this.adapter.visitRendered(this),this.fail(),a.label=4;case 4:return[2]}})})}))},e.prototype.getCachedSnapshot=function(){var a=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(a&&(!D(this.location)||a.hasAnchor(D(this.location))))if(this.action=="restore"||a.isPreviewable)return a},e.prototype.getPreloadedSnapshot=function(){if(this.snapshotHTML)return u.fromHTMLString(this.snapshotHTML)},e.prototype.hasCachedSnapshot=function(){return this.getCachedSnapshot()!=null},e.prototype.loadCachedSnapshot=function(){var d=this,c=this.getCachedSnapshot(),e;c&&(e=this.shouldIssueRequest(),this.render(function(){return b(d,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return this.cacheSnapshot(),[4,this.view.renderPage(c)];case 1:return a.sent(),this.adapter.visitRendered(this),e||this.complete(),[2]}})})}))},e.prototype.followRedirect=function(){this.redirectedToLocation&&!this.followedRedirect&&(this.location=this.redirectedToLocation,this.history.replace(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0)},e.prototype.requestStarted=function(){this.startRequest()},e.prototype.requestPreventedHandlingResponse=function(a,b){},e.prototype.requestSucceededWithResponse=function(d,c){return b(this,void 0,void 0,function(){var b;return a(this,function(a){switch(a.label){case 0:return[4,c.responseHTML];case 1:return b=a.sent(),b==void 0?this.recordResponse({statusCode:m.contentTypeMismatch}):(this.redirectedToLocation=c.redirected?c.location:void 0,this.recordResponse({statusCode:c.statusCode,responseHTML:b})),[2]}})})},e.prototype.requestFailedWithResponse=function(d,c){return b(this,void 0,void 0,function(){var b;return a(this,function(a){switch(a.label){case 0:return[4,c.responseHTML];case 1:return b=a.sent(),b==void 0?this.recordResponse({statusCode:m.contentTypeMismatch}):this.recordResponse({statusCode:c.statusCode,responseHTML:b}),[2]}})})},e.prototype.requestErrored=function(a,b){this.recordResponse({statusCode:m.networkFailure})},e.prototype.requestFinished=function(){this.finishRequest()},e.prototype.performScroll=function(){this.scrolled||(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var a=this.restorationData.scrollPosition;if(a)return this.view.scrollToPosition(a),!0},e.prototype.scrollToAnchor=function(){if(D(this.location)!=null)return this.view.scrollToAnchor(D(this.location)),!0},e.prototype.scrollToTop=function(){this.view.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(a){this.timingMetrics[a]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return d({},this.timingMetrics)},e.prototype.getHistoryMethodForAction=function(a){switch(a){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}},e.prototype.hasPreloadedResponse=function(){return typeof this.response=="object"},e.prototype.shouldIssueRequest=function(){return this.action!="restore"||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){this.snapshotCached||(this.view.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(c){return b(this,void 0,void 0,function(){var b=this;return a(this,function(a){switch(a.label){case 0:return this.cancelRender(),[4,new Promise(function(a){b.frame=requestAnimationFrame(function(){return a()})})];case 1:return a.sent(),c(),delete this.frame,this.performScroll(),[2]}})})},e.prototype.cancelRender=function(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)},e}();function ae(a){return a>=200&&a<300}ac=function(){function a(a){var b=this;this.progressBar=new ap,this.showProgressBar=function(){b.progressBar.show()},this.session=a}return a.prototype.visitProposedToLocation=function(a,b){this.navigator.startVisit(a,w(),b)},a.prototype.visitStarted=function(a){a.issueRequest(),a.changeHistory(),a.loadCachedSnapshot()},a.prototype.visitRequestStarted=function(a){this.progressBar.setValue(0),a.hasCachedSnapshot()||a.action!="restore"?this.showProgressBarAfterDelay():this.showProgressBar()},a.prototype.visitRequestCompleted=function(a){a.loadResponse()},a.prototype.visitRequestFailedWithStatusCode=function(a,b){switch(b){case m.networkFailure:case m.timeoutFailure:case m.contentTypeMismatch:return this.reload();default:return a.loadResponse()}},a.prototype.visitRequestFinished=function(a){this.progressBar.setValue(1),this.hideProgressBar()},a.prototype.visitCompleted=function(a){a.followRedirect()},a.prototype.pageInvalidated=function(){this.reload()},a.prototype.visitFailed=function(a){},a.prototype.visitRendered=function(a){},a.prototype.showProgressBarAfterDelay=function(){this.progressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)},a.prototype.hideProgressBar=function(){this.progressBar.hide(),this.progressBarTimeout!=null&&(window.clearTimeout(this.progressBarTimeout),delete this.progressBarTimeout)},a.prototype.reload=function(){window.location.reload()},Object.defineProperty(a.prototype,"navigator",{get:function(){return this.session.navigator},enumerable:!1,configurable:!0}),a}(),au=function(){function a(b){var a=this;this.started=!1,this.submitCaptured=function(){removeEventListener("submit",a.submitBubbled,!1),addEventListener("submit",a.submitBubbled,!1)},this.submitBubbled=function(c){var d,b,e;c.defaultPrevented||(d=c.target instanceof HTMLFormElement?c.target:void 0,b=c.submitter||void 0,d&&(e=(b===null||b===void 0?void 0:b.getAttribute("formmethod"))||d.method,e!="dialog"&&a.delegate.willSubmitForm(d,b)&&(c.preventDefault(),a.delegate.formSubmitted(d,b))))},this.delegate=b}return a.prototype.start=function(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)},a.prototype.stop=function(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)},a}(),W=function(){function a(a){this.element=a,this.linkInterceptor=new J(this,a),this.formInterceptor=new M(this,a)}return a.prototype.start=function(){this.linkInterceptor.start(),this.formInterceptor.start()},a.prototype.stop=function(){this.linkInterceptor.stop(),this.formInterceptor.stop()},a.prototype.shouldInterceptLinkClick=function(a,b){return this.shouldRedirect(a)},a.prototype.linkClickIntercepted=function(b,c){var a=this.findFrameElement(b);a&&(a.src=c)},a.prototype.shouldInterceptFormSubmission=function(a,b){return this.shouldRedirect(a,b)},a.prototype.formSubmissionIntercepted=function(a,c){var b=this.findFrameElement(a);b&&b.delegate.formSubmissionIntercepted(a,c)},a.prototype.shouldRedirect=function(a,c){var b=this.findFrameElement(a);return!!b&&b!=a.closest("turbo-frame")},a.prototype.findFrameElement=function(c){var a=c.getAttribute("data-turbo-frame"),b;if(a&&a!="_top")if(b=this.element.querySelector("#"+a+":not([disabled])"),b instanceof r)return b},a}(),U=function(){function c(d){var c=this;this.restorationIdentifier=w(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=function(d){var a,b;c.shouldHandlePopState()&&(a=(d.state||{}).turbo,a&&(c.location=new URL(window.location.href),b=a.restorationIdentifier,c.restorationIdentifier=b,c.delegate.historyPoppedToLocationWithRestorationIdentifier(c.location,b)))},this.onPageLoad=function(d){return b(c,void 0,void 0,function(){return a(this,function(a){switch(a.label){case 0:return[4,aN()];case 1:return a.sent(),this.pageLoaded=!0,[2]}})})},this.delegate=d}return c.prototype.start=function(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))},c.prototype.stop=function(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)},c.prototype.push=function(a,b){this.update(history.pushState,a,b)},c.prototype.replace=function(a,b){this.update(history.replaceState,a,b)},c.prototype.update=function(c,b,a){a===void 0&&(a=w());var d={turbo:{restorationIdentifier:a}};c.call(history,d,"",b.href),this.location=b,this.restorationIdentifier=a},c.prototype.getRestorationDataForIdentifier=function(a){return this.restorationData[a]||{}},c.prototype.updateRestorationData=function(b){var a=this.restorationIdentifier,c=this.restorationData[a];this.restorationData[a]=d(d({},c),b)},c.prototype.assumeControlOfScrollRestoration=function(){var a;this.previousScrollRestoration||(this.previousScrollRestoration=(a=history.scrollRestoration)!==null&&a!==void 0?a:"auto",history.scrollRestoration="manual")},c.prototype.relinquishControlOfScrollRestoration=function(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)},c.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},c.prototype.pageIsLoaded=function(){return this.pageLoaded||document.readyState=="complete"},c}(),T=function(){function a(b){var a=this;this.started=!1,this.clickCaptured=function(){removeEventListener("click",a.clickBubbled,!1),addEventListener("click",a.clickBubbled,!1)},this.clickBubbled=function(c){var b,d;a.clickEventIsSignificant(c)&&(b=a.findLinkFromClickTarget(c.target),b&&(d=a.getLocationForLink(b),a.delegate.willFollowLinkToLocation(b,d)&&(c.preventDefault(),a.delegate.followedLinkToLocation(b,d))))},this.delegate=b}return a.prototype.start=function(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)},a.prototype.stop=function(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)},a.prototype.clickEventIsSignificant=function(a){return!(a.target&&a.target.isContentEditable||a.defaultPrevented||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)},a.prototype.findLinkFromClickTarget=function(a){if(a instanceof Element)return a.closest("a[href]:not([target^=_]):not([download])")},a.prototype.getLocationForLink=function(a){return p(a.getAttribute("href")||"")},a}(),P=function(){function e(a){this.delegate=a}return e.prototype.proposeVisit=function(b,a){a===void 0&&(a={}),this.delegate.allowsVisitingLocation(b)&&this.delegate.visitProposedToLocation(b,a)},e.prototype.startVisit=function(b,c,a){a===void 0&&(a={}),this.stop(),this.currentVisit=new af(this,p(b),c,d({referrer:this.location},a)),this.currentVisit.start()},e.prototype.submitForm=function(a,b){this.stop(),this.formSubmission=new K(this,a,b,!0),this.formSubmission.fetchRequest.isIdempotent?this.proposeVisit(this.formSubmission.fetchRequest.url):this.formSubmission.start()},e.prototype.stop=function(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)},Object.defineProperty(e.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),e.prototype.formSubmissionStarted=function(a){},e.prototype.formSubmissionSucceededWithResponse=function(e,d){return b(this,void 0,void 0,function(){var b,f,g;return a(this,function(a){switch(a.label){case 0:return e==this.formSubmission?[4,d.responseHTML]:[3,2];case 1:b=a.sent(),b&&(e.method!=c.get&&this.view.clearSnapshotCache(),f=d.statusCode,g={response:{statusCode:f,responseHTML:b}},this.proposeVisit(d.location,g)),a.label=2;case 2:return[2]}})})},e.prototype.formSubmissionFailedWithResponse=function(d,c){return b(this,void 0,void 0,function(){var b,d;return a(this,function(a){switch(a.label){case 0:return[4,c.responseHTML];case 1:return b=a.sent(),!b?[3,3]:(d=u.fromHTMLString(b),[4,this.view.renderPage(d)]);case 2:a.sent(),this.view.clearSnapshotCache(),a.label=3;case 3:return[2]}})})},e.prototype.formSubmissionErrored=function(a,b){},e.prototype.formSubmissionFinished=function(a){},e.prototype.visitStarted=function(a){this.delegate.visitStarted(a)},e.prototype.visitCompleted=function(a){this.delegate.visitCompleted(a)},Object.defineProperty(e.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),e}(),function(a){a[a.initial=0]="initial",a[a.loading=1]="loading",a[a.interactive=2]="interactive",a[a.complete=3]="complete"}(k||(k={})),X=function(){function a(b){var a=this;this.stage=k.initial,this.started=!1,this.interpretReadyState=function(){var b=a.readyState;b=="interactive"?a.pageIsInteractive():b=="complete"&&a.pageIsComplete()},this.pageWillUnload=function(){a.delegate.pageWillUnload()},this.delegate=b}return a.prototype.start=function(){this.started||(this.stage==k.initial&&(this.stage=k.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)},a.prototype.stop=function(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)},a.prototype.pageIsInteractive=function(){this.stage==k.loading&&(this.stage=k.interactive,this.delegate.pageBecameInteractive())},a.prototype.pageIsComplete=function(){this.pageIsInteractive(),this.stage==k.interactive&&(this.stage=k.complete,this.delegate.pageLoaded())},Object.defineProperty(a.prototype,"readyState",{get:function(){return document.readyState},enumerable:!1,configurable:!0}),a}(),ab=function(){function a(a){var b=this;this.started=!1,this.onScroll=function(){b.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=a}return a.prototype.start=function(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},a.prototype.stop=function(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)},a.prototype.updatePosition=function(a){this.delegate.scrollPositionChanged(a)},a}(),ad=function(){function c(b){var a=this;this.sources=new Set,this.started=!1,this.inspectFetchResponse=function(c){var b=aP(c);b&&aQ(b)&&(c.preventDefault(),a.receiveMessageResponse(b))},this.receiveMessageEvent=function(b){a.started&&typeof b.data=="string"&&a.receiveMessageHTML(b.data)},this.delegate=b}return c.prototype.start=function(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},c.prototype.stop=function(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},c.prototype.connectStreamSource=function(a){this.streamSourceIsConnected(a)||(this.sources.add(a),a.addEventListener("message",this.receiveMessageEvent,!1))},c.prototype.disconnectStreamSource=function(a){this.streamSourceIsConnected(a)&&(this.sources.delete(a),a.removeEventListener("message",this.receiveMessageEvent,!1))},c.prototype.streamSourceIsConnected=function(a){return this.sources.has(a)},c.prototype.receiveMessageResponse=function(c){return b(this,void 0,void 0,function(){var b;return a(this,function(a){switch(a.label){case 0:return[4,c.responseHTML];case 1:return b=a.sent(),b&&this.receiveMessageHTML(b),[2]}})})},c.prototype.receiveMessageHTML=function(a){this.delegate.receivedMessageFromStream(new y(a))},c}();function aP(c){var b=(a=c.detail)===null||a===void 0?void 0:a.fetchResponse,a;if(b instanceof L)return b}function aQ(b){var c=(a=b.contentType)!==null&&a!==void 0?a:"",a;return c.startsWith(y.contentType)}function aR(a){return a=="advance"||a=="replace"||a=="restore"}am=function(d){n(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.prototype.render=function(){return b(this,void 0,void 0,function(){return a(this,function(a){return this.replaceHeadAndBody(),this.activateScriptElements(),[2]})})},c.prototype.replaceHeadAndBody=function(){var a=document.documentElement,b=document.head,c=document.body;a.replaceChild(this.newHead,b),a.replaceChild(this.newElement,c)},c.prototype.activateScriptElements=function(){var c,e,b,a,d,f,g;try{for(b=h(this.scriptElements),a=b.next();!a.done;a=b.next())d=a.value,f=d.parentNode,f&&(g=this.createScriptElement(d),f.replaceChild(g,d))}catch(a){c={error:a}}finally{try{a&&!a.done&&(e=b.return)&&e.call(b)}finally{if(c)throw c.error}}},Object.defineProperty(c.prototype,"newHead",{get:function(){return this.newSnapshot.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scriptElements",{get:function(){return e(document.documentElement.querySelectorAll("script"))},enumerable:!1,configurable:!0}),c}(C),ao=function(d){n(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"shouldRender",{get:function(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical},enumerable:!1,configurable:!0}),c.prototype.prepareToRender=function(){this.mergeHead()},c.prototype.render=function(){return b(this,void 0,void 0,function(){return a(this,function(a){return this.replaceBody(),[2]})})},c.prototype.finishRendering=function(){d.prototype.finishRendering.call(this),this.isPreview&&this.focusFirstAutofocusableElement()},Object.defineProperty(c.prototype,"currentHeadSnapshot",{get:function(){return this.currentSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newHeadSnapshot",{get:function(){return this.newSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),c.prototype.mergeHead=function(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},c.prototype.replaceBody=function(){var a=this;this.preservingPermanentElements(function(){a.activateNewBody(),a.assignNewBody()})},Object.defineProperty(c.prototype,"trackedElementsAreIdentical",{get:function(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature},enumerable:!1,configurable:!0}),c.prototype.copyNewHeadStylesheetElements=function(){var c,d,b,a,e;try{for(b=h(this.newHeadStylesheetElements),a=b.next();!a.done;a=b.next())e=a.value,document.head.appendChild(e)}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c.prototype.copyNewHeadScriptElements=function(){var c,d,b,a,e;try{for(b=h(this.newHeadScriptElements),a=b.next();!a.done;a=b.next())e=a.value,document.head.appendChild(this.createScriptElement(e))}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c.prototype.removeCurrentHeadProvisionalElements=function(){var c,d,b,a,e;try{for(b=h(this.currentHeadProvisionalElements),a=b.next();!a.done;a=b.next())e=a.value,document.head.removeChild(e)}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c.prototype.copyNewHeadProvisionalElements=function(){var c,d,b,a,e;try{for(b=h(this.newHeadProvisionalElements),a=b.next();!a.done;a=b.next())e=a.value,document.head.appendChild(e)}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c.prototype.activateNewBody=function(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()},c.prototype.activateNewBodyScriptElements=function(){var c,d,b,a,e,f;try{for(b=h(this.newBodyScriptElements),a=b.next();!a.done;a=b.next())e=a.value,f=this.createScriptElement(e),v(e,f)}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},c.prototype.assignNewBody=function(){document.body&&this.newElement instanceof HTMLBodyElement?v(document.body,this.newElement):document.documentElement.appendChild(this.newElement)},Object.defineProperty(c.prototype,"newHeadStylesheetElements",{get:function(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newHeadScriptElements",{get:function(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"currentHeadProvisionalElements",{get:function(){return this.currentHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newHeadProvisionalElements",{get:function(){return this.newHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newBodyScriptElements",{get:function(){return e(this.newElement.querySelectorAll("script"))},enumerable:!1,configurable:!0}),c}(C),aq=function(){function a(a){this.keys=[],this.snapshots={},this.size=a}return a.prototype.has=function(a){return B(a)in this.snapshots},a.prototype.get=function(a){if(this.has(a)){var b=this.read(a);return this.touch(a),b}},a.prototype.put=function(a,b){return this.write(a,b),this.touch(a),b},a.prototype.clear=function(){this.snapshots={}},a.prototype.read=function(a){return this.snapshots[B(a)]},a.prototype.write=function(a,b){this.snapshots[B(a)]=b},a.prototype.touch=function(c){var a=B(c),b=this.keys.indexOf(a);b>-1&&this.keys.splice(b,1),this.keys.unshift(a),this.trim()},a.prototype.trim=function(){var c,d,b,a,e;try{for(b=h(this.keys.splice(this.size)),a=b.next();!a.done;a=b.next())e=a.value,delete this.snapshots[e]}catch(a){c={error:a}}finally{try{a&&!a.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}},a}(),ar=function(d){n(c,d);function c(){var a=d!==null&&d.apply(this,arguments)||this;return a.snapshotCache=new aq(10),a.lastRenderedLocation=new URL(location.href),a}return c.prototype.renderPage=function(b,a){a===void 0&&(a=!1);var c=new ao(this.snapshot,b,a);return this.render(c)},c.prototype.renderError=function(a){var b=new am(this.snapshot,a,!1);this.render(b)},c.prototype.clearSnapshotCache=function(){this.snapshotCache.clear()},c.prototype.cacheSnapshot=function(){return b(this,void 0,void 0,function(){var b,c,d;return a(this,function(a){switch(a.label){case 0:return this.shouldCacheSnapshot?(this.delegate.viewWillCacheSnapshot(),b=this,c=b.snapshot,d=b.lastRenderedLocation,[4,aO()]):[3,2];case 1:a.sent(),this.snapshotCache.put(d,c.clone()),a.label=2;case 2:return[2]}})})},c.prototype.getCachedSnapshotForLocation=function(a){return this.snapshotCache.get(a)},Object.defineProperty(c.prototype,"snapshot",{get:function(){return u.fromElement(this.element)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"shouldCacheSnapshot",{get:function(){return this.snapshot.isCacheable},enumerable:!1,configurable:!0}),c}(F),N=function(){function a(){this.navigator=new P(this),this.history=new U(this),this.view=new ar(this,document.documentElement),this.adapter=new ac(this),this.pageObserver=new X(this),this.linkClickObserver=new T(this),this.formSubmitObserver=new au(this),this.scrollObserver=new ab(this),this.streamObserver=new ad(this),this.frameRedirector=new W(document.documentElement),this.enabled=!0,this.progressBarDelay=500,this.started=!1}return a.prototype.start=function(){this.started||(this.pageObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)},a.prototype.disable=function(){this.enabled=!1},a.prototype.stop=function(){this.started&&(this.pageObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)},a.prototype.registerAdapter=function(a){this.adapter=a},a.prototype.visit=function(b,a){a===void 0&&(a={}),this.navigator.proposeVisit(p(b),a)},a.prototype.connectStreamSource=function(a){this.streamObserver.connectStreamSource(a)},a.prototype.disconnectStreamSource=function(a){this.streamObserver.disconnectStreamSource(a)},a.prototype.renderStreamMessage=function(a){document.documentElement.appendChild(y.wrap(a).fragment)},a.prototype.clearCache=function(){this.view.clearSnapshotCache()},a.prototype.setProgressBarDelay=function(a){this.progressBarDelay=a},Object.defineProperty(a.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),a.prototype.historyPoppedToLocationWithRestorationIdentifier=function(a){this.enabled?this.navigator.proposeVisit(a,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()},a.prototype.scrollPositionChanged=function(a){this.history.updateRestorationData({scrollPosition:a})},a.prototype.willFollowLinkToLocation=function(a,b){return this.elementIsNavigable(a)&&this.locationIsVisitable(b)&&this.applicationAllowsFollowingLinkToLocation(a,b)},a.prototype.followedLinkToLocation=function(a,b){var c=this.getActionForLink(a);this.visit(b.href,{action:c})},a.prototype.allowsVisitingLocation=function(a){return this.applicationAllowsVisitingLocation(a)},a.prototype.visitProposedToLocation=function(a,b){V(a),this.adapter.visitProposedToLocation(a,b)},a.prototype.visitStarted=function(a){V(a.location),this.notifyApplicationAfterVisitingLocation(a.location)},a.prototype.visitCompleted=function(a){this.notifyApplicationAfterPageLoad(a.getTimingMetrics())},a.prototype.willSubmitForm=function(a,b){return this.elementIsNavigable(a)&&this.elementIsNavigable(b)},a.prototype.formSubmitted=function(a,b){this.navigator.submitForm(a,b)},a.prototype.pageBecameInteractive=function(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},a.prototype.pageLoaded=function(){this.history.assumeControlOfScrollRestoration()},a.prototype.pageWillUnload=function(){this.history.relinquishControlOfScrollRestoration()},a.prototype.receivedMessageFromStream=function(a){this.renderStreamMessage(a)},a.prototype.viewWillCacheSnapshot=function(){this.notifyApplicationBeforeCachingSnapshot()},a.prototype.viewWillRenderSnapshot=function(a,c){var b=a.element;this.notifyApplicationBeforeRender(b)},a.prototype.viewRenderedSnapshot=function(a,b){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()},a.prototype.viewInvalidated=function(){this.adapter.pageInvalidated()},a.prototype.applicationAllowsFollowingLinkToLocation=function(a,b){var c=this.notifyApplicationAfterClickingLinkToLocation(a,b);return!c.defaultPrevented},a.prototype.applicationAllowsVisitingLocation=function(a){var b=this.notifyApplicationBeforeVisitingLocation(a);return!b.defaultPrevented},a.prototype.notifyApplicationAfterClickingLinkToLocation=function(a,b){return i("turbo:click",{target:a,detail:{url:b.href},cancelable:!0})},a.prototype.notifyApplicationBeforeVisitingLocation=function(a){return i("turbo:before-visit",{detail:{url:a.href},cancelable:!0})},a.prototype.notifyApplicationAfterVisitingLocation=function(a){return i("turbo:visit",{detail:{url:a.href}})},a.prototype.notifyApplicationBeforeCachingSnapshot=function(){return i("turbo:before-cache")},a.prototype.notifyApplicationBeforeRender=function(a){return i("turbo:before-render",{detail:{newBody:a}})},a.prototype.notifyApplicationAfterRender=function(){return i("turbo:render")},a.prototype.notifyApplicationAfterPageLoad=function(a){return a===void 0&&(a={}),i("turbo:load",{detail:{url:this.location.href,timing:a}})},a.prototype.getActionForLink=function(b){var a=b.getAttribute("data-turbo-action");return aR(a)?a:"advance"},a.prototype.elementIsNavigable=function(a){var b=a===null||a===void 0?void 0:a.closest("[data-turbo]");return!b||b.getAttribute("data-turbo")!="false"},a.prototype.locationIsVisitable=function(a){return aW(a,this.snapshot.rootLocation)&&aX(a)},Object.defineProperty(a.prototype,"snapshot",{get:function(){return this.view.snapshot},enumerable:!1,configurable:!0}),a}();function V(a){Object.defineProperties(a,S)}S={absoluteURL:{get:function(){return this.toString()}}},j=new N,ag=j.navigator;function aj(){j.start()}function ba(a){j.registerAdapter(a)}function bb(a,b){j.visit(a,b)}function bc(a){j.connectStreamSource(a)}function bd(a){j.disconnectStreamSource(a)}function be(a){j.renderStreamMessage(a)}function bf(){j.clearCache()}function aG(a){j.setProgressBarDelay(a)}aj(),l.clearCache=bf,l.connectStreamSource=bc,l.disconnectStreamSource=bd,l.navigator=ag,l.registerAdapter=ba,l.renderStreamMessage=be,l.setProgressBarDelay=aG,l.start=aj,l.visit=bb,Object.defineProperty(l,"__esModule",{value:!0})})});b()})(),(()=>{function a(a){document.documentElement.addEventListener("turbo:load",a)}var b=()=>{document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")};a(function(){document.getElementById("mode").addEventListener("click",b),localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark")})})(),(()=>{var b=Object.create,a=Object.defineProperty,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,e=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,g=b=>a(b,"__esModule",{value:!0}),h=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},i=(c,b,g)=>{if(b&&typeof b=="object"||typeof b=="function")for(let h of e(b))!d.call(c,h)&&h!=="default"&&a(c,h,{get:()=>b[h],enumerable:!(g=f(b,h))||g.enumerable});return c},j=d=>{return d&&d.__esModule?d:i(g(a(d!=null?b(c(d)):{},"default",{value:d,enumerable:!0})),d)},k=h((b,a)=>{(function(b,d){var c=d(b,b.document,Date);b.lazySizes=c,typeof a=="object"&&a.exports&&(a.exports=c)})(typeof window!="undefined"?window:{},function(d,b,j){"use strict";var f,a,h,E,i,c,g,e,A,s,x,F,q,C,k,l,u,v,o,w,n,z,m,p,D,y,B,t,r;return function(){var c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125},b;a=d.lazySizesConfig||d.lazysizesConfig||{};for(b in c)b in a||(a[b]=c[b])}(),!b||!b.getElementsByClassName?{init:function(){},cfg:a,noSupport:!0}:(h=b.documentElement,E=d.HTMLPictureElement,i="addEventListener",c="getAttribute",g=d[i].bind(d),e=d.setTimeout,A=d.requestAnimationFrame||e,s=d.requestIdleCallback,x=/^picture$/i,F=["load","error","lazyincluded","_lazyloaded"],q={},C=Array.prototype.forEach,k=function(b,a){return q[a]||(q[a]=new RegExp("(\\s|^)"+a+"(\\s|$)")),q[a].test(b[c]("class")||"")&&q[a]},l=function(a,b){k(a,b)||a.setAttribute("class",(a[c]("class")||"").trim()+" "+b)},u=function(a,d){var b;(b=k(a,d))&&a.setAttribute("class",(a[c]("class")||"").replace(b," "))},v=function(a,b,c){var d=c?i:"removeEventListener";c&&v(a,b),F.forEach(function(c){a[d](c,b)})},o=function(d,e,a,g,h){var c=b.createEvent("Event");return a||(a={}),a.instance=f,c.initEvent(e,!g,!h),c.detail=a,d.dispatchEvent(c),c},w=function(e,b){var f;!E&&(f=d.picturefill||a.pf)?(b&&b.src&&!e[c]("srcset")&&e.setAttribute("srcset",b.src),f({reevaluate:!0,elements:[e]})):b&&b.src&&(e.src=b.src)},n=function(a,b){return(getComputedStyle(a,null)||{})[b]},z=function(d,c,b){for(b=b||d.offsetWidth;b<a.minSize&&c&&!d._lazysizesWidth;)b=c.offsetWidth,c=c.parentNode;return b},m=function(){var d=[],i=[],f=d,g=function(){var b=f;for(f=d.length?i:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,h){a&&!h?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?e:A)(g)))},c,a;return h._lsFlush=g,h}(),p=function(a,b){return b?function(){m(a)}:function(){var b=this,c=arguments;m(function(){a.apply(b,c)})}},D=function(i){var f=0,h=a.throttleDelay,b=a.ricTimeout,g=function(){c=!1,f=j.now(),i()},d=s&&b>49?function(){s(g,{timeout:b}),b!==a.ricTimeout&&(b=a.ricTimeout)}:p(function(){e(g)},!0),c;return function(g){var a;if((g=g===!0)&&(b=33),c)return;c=!0,a=h-(j.now()-f),a<0&&(a=0),g||a<9?d():e(d,a)}},y=function(g){var b=99,d=function(){a=null,g()},f=function(){var a=j.now()-c;a<b?e(f,b-a):(s||d)(d)},c,a;return function(){c=j.now(),a||(a=e(f,b))}},B=function(){var Z=/^img$/i,ae=/^iframe$/i,ad="onscroll"in d&&!/(gle|ing)bot/.test(navigator.userAgent),ab=0,F=0,r=0,s=-1,S=function(a){r--,(!a||r<0||!a.target)&&(r=0)},T=function(a){return K==null&&(K=n(b.body,"visibility")=="hidden"),K||!(n(a.parentNode,"visibility")=="hidden"&&n(a,"visibility")=="hidden")},X=function(f,e){var a=f,d=T(f),c;for(G-=e,J+=e,H-=e,I+=e;d&&(a=a.offsetParent)&&a!=b.body&&a!=h;)d=(n(a,"opacity")||1)>0,d&&n(a,"overflow")!="visible"&&(c=a.getBoundingClientRect(),d=I>c.left&&H<c.right&&J>c.top-1&&G<c.bottom+1);return d},V=function(){var e=f.elements,d,i,k,o,g,m,l,q,j,p,n,t;if((E=a.loadMode)&&r<8&&(t=e.length)){for(d=0,s++;d<t;d++){if(!e[d]||e[d]._lazyRace)continue;if(!ad||f.prematureUnveil&&f.prematureUnveil(e[d])){B(e[d]);continue}if((!(l=e[d][c]("data-expand"))||!(g=l*1))&&(g=F),j||(j=!a.expand||a.expand<1?h.clientHeight>500&&h.clientWidth>500?500:370:a.expand,f._defEx=j,p=j*a.expFactor,n=a.hFac,K=null,F<p&&r<1&&s>2&&E>2&&!b.hidden?(F=p,s=0):E>1&&s>1&&r<6?F=j:F=ab),q!==g&&(R=innerWidth+g*n,Q=innerHeight+g,m=g*-1,q=g),i=e[d].getBoundingClientRect(),(J=i.bottom)>=m&&(G=i.top)<=Q&&(I=i.right)>=m*n&&(H=i.left)<=R&&(J||I||H||G)&&(a.loadHidden||T(e[d]))&&(z&&r<3&&!l&&(E<3||s<4)||X(e[d],g))){if(B(e[d]),o=!0,r>9)break}else!o&&z&&!k&&r<4&&s<4&&E>2&&(L[0]||a.preloadAfterLoad)&&(L[0]||!l&&(J||I||H||G||e[d][c](a.sizesAttr)!="auto"))&&(k=L[0]||e[d])}k&&!o&&B(k)}},q=D(V),U=function(c){var b=c.target;if(b._lazyCache){delete b._lazyCache;return}S(c),l(b,a.loadedClass),u(b,a.loadingClass),v(b,P),o(b,"lazyloaded")},Y=p(U),P=function(a){Y({target:a.target})},_=function(b,c){var d=b.getAttribute("data-load-mode")||a.iframeLoadMode;d==0?b.contentWindow.location.replace(c):d==1&&(b.src=c)},$=function(b){var e=b[c](a.srcsetAttr),d;(d=a.customMedia[b[c]("data-media")||b[c]("media")])&&b.setAttribute("media",d),e&&b.setAttribute("srcset",e)},aa=p(function(b,k,q,n,p){var d,g,h,f,i,j;(i=o(b,"lazybeforeunveil",k)).defaultPrevented||(n&&(q?l(b,a.autosizesClass):b.setAttribute("sizes",n)),g=b[c](a.srcsetAttr),d=b[c](a.srcAttr),p&&(h=b.parentNode,f=h&&x.test(h.nodeName||"")),j=k.firesLoad||"src"in b&&(g||d||f),i={target:b},l(b,a.loadingClass),j&&(clearTimeout(O),O=e(S,2500),v(b,P,!0)),f&&C.call(h.getElementsByTagName("source"),$),g?b.setAttribute("srcset",g):d&&!f&&(ae.test(b.nodeName)?_(b,d):b.src=d),p&&(g||f)&&w(b,{src:d})),b._lazyRace&&delete b._lazyRace,u(b,a.lazyClass),m(function(){var c=b.complete&&b.naturalWidth>1;(!j||c)&&(c&&l(b,a.fastLoadedClass),U(i),b._lazyCache=!0,e(function(){"_lazyCache"in b&&delete b._lazyCache},9)),b.loading=="lazy"&&r--},!0)}),B=function(b){var f,d,g,e;if(b._lazyRace)return;if(d=Z.test(b.nodeName),g=d&&(b[c](a.sizesAttr)||b[c]("sizes")),e=g=="auto",(e||!z)&&d&&(b[c]("src")||b.srcset)&&!b.complete&&!k(b,a.errorClass)&&k(b,a.lazyClass))return;f=o(b,"lazyunveilread").detail,e&&t.updateElem(b,!0,b.offsetWidth),b._lazyRace=!0,r++,aa(b,f,e,g,d)},ac=y(function(){a.loadMode=3,q()}),N=function(){a.loadMode==3&&(a.loadMode=2),ac()},M=function(){if(z)return;if(j.now()-W<999){e(M,999);return}z=!0,a.loadMode=3,q(),g("scroll",N,!0)},J,K,L,z,O,E,W,R,Q,G,H,I;return{_:function(){W=j.now(),f.elements=b.getElementsByClassName(a.lazyClass),L=b.getElementsByClassName(a.lazyClass+" "+a.preloadClass),g("scroll",q,!0),g("resize",q,!0),g("pageshow",function(d){if(d.persisted){var c=b.querySelectorAll("."+a.loadingClass);c.length&&c.forEach&&A(function(){c.forEach(function(a){a.complete&&B(a)})})}}),d.MutationObserver?new MutationObserver(q).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[i]("DOMNodeInserted",q,!0),h[i]("DOMAttrModified",q,!0),setInterval(q,999)),g("hashchange",q,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[i](a,q,!0)}),/d$|^c/.test(b.readyState)?M():(g("load",M),b[i]("DOMContentLoaded",q),e(M,2e4)),f.elements.length?(V(),m._lsFlush()):q()},checkElems:q,unveil:B,_aLSL:N}}(),t=function(){var f=p(function(c,e,f,a){var d,b,g;if(c._lazysizesWidth=a,a+="px",c.setAttribute("sizes",a),x.test(e.nodeName||"")){d=e.getElementsByTagName("source");for(b=0,g=d.length;b<g;b++)d[b].setAttribute("sizes",a)}f.detail.dataAttr||w(c,f.detail)}),d=function(b,e,a){var d=b.parentNode,c;d&&(a=z(b,d,a),c=o(b,"lazybeforesizes",{width:a,dataAttr:!!e}),c.defaultPrevented||(a=c.detail.width,a&&a!==b._lazysizesWidth&&f(b,d,c,a)))},h=function(){var b=c.length,a;if(b)for(a=0;a<b;a++)d(c[a])},e=y(h),c;return{_:function(){c=b.getElementsByClassName(a.autosizesClass),g("resize",e)},checkElems:e,updateElem:d}}(),r=function(){!r.i&&b.getElementsByClassName&&(r.i=!0,t._(),B._())},e(function(){a.init&&r()}),f={cfg:a,autoSizer:t,loader:B,init:r,uP:w,aC:l,rC:u,hC:k,fire:o,gW:z,rAF:m},f)})}),l=j(k());document.addEventListener("turbo:before-cache",()=>{const b=document.querySelectorAll('[data-turbo-cache="false"]');for(var a=0,c=b.length;a<c;a++)b[a].remove()})})(),(()=>{var b=Object.create,a=Object.defineProperty,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,e=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,g=b=>a(b,"__esModule",{value:!0}),h=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},i=(c,b,g)=>{if(b&&typeof b=="object"||typeof b=="function")for(let h of e(b))!d.call(c,h)&&h!=="default"&&a(c,h,{get:()=>b[h],enumerable:!(g=f(b,h))||g.enumerable});return c},j=d=>{return d&&d.__esModule?d:i(g(a(d!=null?b(c(d)):{},"default",{value:d,enumerable:!0})),d)},k=h((b,a)=>{(function(c,b){typeof define=="function"&&define.amd?define([],b):typeof a=="object"&&a.exports?a.exports=b():c.SimpleLightbox=b()})(b,function(){function f(d){for(var b=1,a,c;b<arguments.length;b++)if(a=arguments[b],a)for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}function e(a,b){a&&b&&(a.className+=" "+b)}function d(a,b){a&&b&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").trim())}function b(b){var a=document.createElement("div");return a.innerHTML=b.trim(),a.childNodes[0]}function c(a,b){return(a.matches||a.matchesSelector||a.msMatchesSelector).call(a,b)}function g(){return"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight}function a(a){this.init.apply(this,arguments)}return a.defaults={elementClass:"",elementLoadingClass:"slbLoading",htmlClass:"slbActive",closeBtnClass:"",nextBtnClass:"",prevBtnClass:"",loadingTextClass:"",closeBtnCaption:"Close",nextBtnCaption:"Next",prevBtnCaption:"Previous",loadingCaption:"Loading...",bindToItems:!0,closeOnOverlayClick:!0,closeOnEscapeKey:!0,nextOnImageClick:!0,showCaptions:!0,captionAttribute:"title",urlAttribute:"href",startAt:0,loadingTimeout:100,appendTarget:"body",beforeSetContent:null,beforeClose:null,afterClose:null,beforeDestroy:null,afterDestroy:null,videoRegex:new RegExp(/youtube.com|vimeo.com/)},f(a.prototype,{init:function(b){var c,d;b=this.options=f({},a.defaults,b),c=this,b.$items&&(d=b.$items.get()),b.elements&&(d=[].slice.call(typeof b.elements=="string"?document.querySelectorAll(b.elements):b.elements)),this.eventRegistry={lightbox:[],thumbnails:[]},this.items=[],this.captions=[],d&&d.forEach(function(a,d){c.items.push(a.getAttribute(b.urlAttribute)),c.captions.push(a.getAttribute(b.captionAttribute)),b.bindToItems&&c.addEvent(a,"click",function(a){a.preventDefault(),c.showPosition(d)},"thumbnails")}),b.items&&(this.items=b.items),b.captions&&(this.captions=b.captions)},addEvent:function(a,b,c,d){return this.eventRegistry[d||"lightbox"].push({element:a,eventName:b,callback:c}),a.addEventListener(b,c),this},removeEvents:function(a){return this.eventRegistry[a].forEach(function(a){a.element.removeEventListener(a.eventName,a.callback)}),this.eventRegistry[a]=[],this},next:function(){return this.showPosition(this.currentPosition+1)},prev:function(){return this.showPosition(this.currentPosition-1)},normalizePosition:function(a){return a>=this.items.length?a=0:a<0&&(a=this.items.length-1),a},showPosition:function(b){var a=this.normalizePosition(b);return typeof this.currentPosition!="undefined"&&(this.direction=a>this.currentPosition?"next":"prev"),this.currentPosition=a,this.setupLightboxHtml().prepareItem(this.currentPosition,this.setContent).show()},loading:function(c){var b=this,a=this.options;c?this.loadingTimeout=setTimeout(function(){e(b.$el,a.elementLoadingClass),b.$content.innerHTML='<p class="slbLoadingText '+a.loadingTextClass+'">'+a.loadingCaption+"</p>",b.show()},a.loadingTimeout):(d(this.$el,a.elementLoadingClass),clearTimeout(this.loadingTimeout))},prepareItem:function(d,f){var a=this,c=this.items[d],e;return this.loading(!0),this.options.videoRegex.test(c)?f.call(a,b('<div class="slbIframeCont"><iframe class="slbIframe" frameborder="0" allowfullscreen src="'+c+'"></iframe></div>')):(e=b('<div class="slbImageWrap"><img class="slbImage" src="'+c+'" /></div>'),this.$currentImage=e.querySelector(".slbImage"),this.options.showCaptions&&this.captions[d]&&e.appendChild(b('<div class="slbCaption">'+this.captions[d]+"</div>")),this.loadImage(c,function(){a.setImageDimensions(),f.call(a,e),a.loadImage(a.items[a.normalizePosition(a.currentPosition+1)])})),this},loadImage:function(a,b){if(!this.options.videoRegex.test(a)){var c=new Image;b&&(c.onload=b),c.src=a}},setupLightboxHtml:function(){var a=this.options;return this.$el||(this.$el=b('<div class="slbElement '+a.elementClass+'"><div class="slbOverlay"></div><div class="slbWrapOuter"><div class="slbWrap"><div class="slbContentOuter"><div class="slbContent"></div><button type="button" title="'+a.closeBtnCaption+'" class="slbCloseBtn '+a.closeBtnClass+'">\xD7</button>'+(this.items.length>1?'<div class="slbArrows"><button type="button" title="'+a.prevBtnCaption+'" class="prev slbArrow'+a.prevBtnClass+'">'+a.prevBtnCaption+'</button><button type="button" title="'+a.nextBtnCaption+'" class="next slbArrow'+a.nextBtnClass+'">'+a.nextBtnCaption+"</button></div>":"")+"</div></div></div></div>"),this.$content=this.$el.querySelector(".slbContent")),this.$content.innerHTML="",this},show:function(){return this.modalInDom||(document.querySelector(this.options.appendTarget).appendChild(this.$el),e(document.documentElement,this.options.htmlClass),this.setupLightboxEvents(),this.modalInDom=!0),this},setContent:function(a){var c=typeof a=="string"?b(a):a;return this.loading(!1),this.setupLightboxHtml(),d(this.$content,"slbDirectionNext"),d(this.$content,"slbDirectionPrev"),this.direction&&e(this.$content,this.direction==="next"?"slbDirectionNext":"slbDirectionPrev"),this.options.beforeSetContent&&this.options.beforeSetContent(c,this),this.$content.appendChild(c),this},setImageDimensions:function(){this.$currentImage&&(this.$currentImage.style.maxHeight=g()+"px")},setupLightboxEvents:function(){var a=this;return this.eventRegistry.lightbox.length?this:(this.addEvent(this.$el,"click",function(d){var b=d.target;c(b,".slbCloseBtn")||a.options.closeOnOverlayClick&&c(b,".slbWrap")?a.close():c(b,".slbArrow")?c(b,".next")?a.next():a.prev():a.options.nextOnImageClick&&a.items.length>1&&c(b,".slbImage")&&a.next()}).addEvent(document,"keyup",function(b){a.options.closeOnEscapeKey&&b.keyCode===27&&a.close(),a.items.length>1&&((b.keyCode===39||b.keyCode===68)&&a.next(),(b.keyCode===37||b.keyCode===65)&&a.prev())}).addEvent(window,"resize",function(){a.setImageDimensions()}),this)},close:function(){this.modalInDom&&(this.runHook("beforeClose"),this.removeEvents("lightbox"),this.$el&&this.$el.parentNode.removeChild(this.$el),d(document.documentElement,this.options.htmlClass),this.modalInDom=!1,this.runHook("afterClose")),this.direction=void 0,this.currentPosition=this.options.startAt},destroy:function(){this.close(),this.runHook("beforeDestroy"),this.removeEvents("thumbnails"),this.runHook("afterDestroy")},runHook:function(a){this.options[a]&&this.options[a](this)}}),a.open=function(b){var c=new a(b);return b.content?c.setContent(b.content).show():c.showPosition(c.options.startAt)},a.registerAsJqueryPlugin=function(b){b.fn.simpleLightbox=function(d){var e=this,c;return this.each(function(){b.data(this,"simpleLightbox")||(c=c||new a(b.extend({},d,{$items:e})),b.data(this,"simpleLightbox",c))})},b.SimpleLightbox=a},typeof window!="undefined"&&window.jQuery&&a.registerAsJqueryPlugin(window.jQuery),a})}),l=j(k());function m(a){document.documentElement.addEventListener("turbo:load",a)}m(function(){const a=document.querySelectorAll("[data-lightbox]");if(!a)return;new l.default({elements:a})})})()