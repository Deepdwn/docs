(()=>{var a=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},b=a((a,b)=>{(function(c,d){typeof a=="object"&&typeof b!="undefined"?d(a):typeof define=="function"&&define.amd?define(["exports"],d):(c=typeof globalThis!="undefined"?globalThis:c||self,d(c.Turbo={}))})(a,function(d){"use strict";var h,a,i,k,p,e,j,f,J;(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const a=HTMLElement,b={HTMLElement:function(){return Reflect.construct(a,[],this.constructor)}};window.HTMLElement=b.HTMLElement,HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)})();const V=new WeakMap;function aZ(a){const c=a instanceof Element?a:a instanceof Node?a.parentElement:null,b=c?c.closest("input, button"):null;return(b===null||b===void 0?void 0:b.type)=="submit"?b:null}function aY(b){const a=aZ(b.target);a&&a.form&&V.set(a.form,a)}(function(){if("SubmitEvent"in window)return;if("submitter"in Event.prototype)return;addEventListener("click",aY,!0),Object.defineProperty(Event.prototype,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return V.get(this.target)}})})(),function(a){a.eager="eager",a.lazy="lazy"}(h||(h={}));class o extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new o.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){const{src:a}=this;this.src=null,this.src=a}attributeChangedCallback(a){a=="loading"?this.delegate.loadingStyleChanged():a=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(a){a?this.setAttribute("src",a):this.removeAttribute("src")}get loading(){return aW(this.getAttribute("loading")||"")}set loading(a){a?this.setAttribute("loading",a):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(a){a?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(a){a?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var a,b;return(b=(a=this.ownerDocument)===null||a===void 0?void 0:a.documentElement)===null||b===void 0?void 0:b.hasAttribute("data-turbo-preview")}}function aW(a){switch(a.toLowerCase()){case"lazy":return h.lazy;default:return h.eager}}function g(a){return new URL(a.toString(),document.baseURI)}function n(a){let b;if(a.hash)return a.hash.slice(1);if(b=a.href.match(/#(.*)$/))return b[1]}function aV(a){return(aQ(a).match(/\.[^.]*$/)||[])[0]||""}function aU(a){return!!aV(a).match(/^(?:|\.(?:htm|html|xhtml))$/)}function aT(a,c){const b=aP(c);return a.href===g(b).href||a.href.startsWith(b)}function z(a){const b=n(a);return b!=null?a.href.slice(0,-(b.length+1)):a.href}function s(a){return z(a)}function aS(a,b){return g(a).href==g(b).href}function aR(a){return a.pathname.split("/").slice(1)}function aQ(a){return aR(a).slice(-1)[0]}function aP(a){return aO(a.origin+a.pathname)}function aO(a){return a.endsWith("/")?a:a+"/"}class C{constructor(a){this.response=a}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return g(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(a){return this.response.headers.get(a)}}function c(b,{target:c,cancelable:d,detail:e}={}){const a=new CustomEvent(b,{cancelable:d,bubbles:!0,detail:e});return void(c||document.documentElement).dispatchEvent(a),a}function t(){return new Promise(a=>requestAnimationFrame(()=>a()))}function aN(){return new Promise(a=>setTimeout(()=>a(),0))}function aM(){return Promise.resolve()}function E(a=""){return(new DOMParser).parseFromString(a,"text/html")}function W(c,...d){const a=aK(c,d).replace(/^\n/,"").split("\n"),b=a[0].match(/^\s+/),e=b?b[0].length:0;return a.map(a=>a.slice(e)).join("\n")}function aK(b,a){return b.reduce((c,d,b)=>{const e=a[b]==void 0?"":a[b];return c+d+e},"")}function q(){return Array.apply(null,{length:36}).map((b,a)=>{return a==8||a==13||a==18||a==23?"-":a==14?"4":a==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)}).join("")}(function(a){a[a.get=0]="get",a[a.post=1]="post",a[a.put=2]="put",a[a.patch=3]="patch",a[a.delete=4]="delete"})(a||(a={}));function aG(b){switch(b.toLowerCase()){case"get":return a.get;case"post":return a.post;case"put":return a.put;case"patch":return a.patch;case"delete":return a.delete}}class y{constructor(c,d,a,b=new URLSearchParams,e=null){this.abortController=new AbortController,this.resolveRequestPromise=a=>{},this.delegate=c,this.method=d,this.headers=this.defaultHeaders,this.isIdempotent?this.url=az(a,[...b.entries()]):(this.body=b,this.url=a),this.target=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var b,a;const{fetchOptions:c}=this;(a=(b=this.delegate).prepareHeadersForRequest)===null||a===void 0?void 0:a.call(b,this.headers,this),await this.allowRequestToBeIntercepted(c);try{this.delegate.requestStarted(this);const a=await fetch(this.url.href,c);return await this.receive(a)}catch(a){if(a.name!=="AbortError")throw this.delegate.requestErrored(this,a),a}finally{this.delegate.requestFinished(this)}}async receive(b){const a=new C(b),d=c("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:a},target:this.target});return d.defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,a):a.succeeded?this.delegate.requestSucceededWithResponse(this,a):this.delegate.requestFailedWithResponse(this,a),a}get fetchOptions(){var b;return{method:a[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.body,signal:this.abortSignal,referrer:(b=this.delegate.referrer)===null||b===void 0?void 0:b.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==a.get}get abortSignal(){return this.abortController.signal}async allowRequestToBeIntercepted(a){const b=new Promise(a=>this.resolveRequestPromise=a),d=c("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:a,url:this.url.href,resume:this.resolveRequestPromise},target:this.target});d.defaultPrevented&&await b}}function az(a,c){const b=new URLSearchParams(a.search);for(const[d,e]of c){if(e instanceof File)continue;b.has(d)?(b.delete(d),a.searchParams.set(d,e)):a.searchParams.append(d,e)}return a}class ax{constructor(a,b){this.started=!1,this.intersect=b=>{const a=b.slice(-1)[0];(a===null||a===void 0?void 0:a.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=a,this.element=b,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class r{constructor(a){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=a}static wrap(a){return typeof a=="string"?new this(a):a}get fragment(){const a=document.createDocumentFragment();for(const b of this.foreignElements)a.appendChild(document.importNode(b,!0));return a}get foreignElements(){return this.templateChildren.reduce((a,b)=>{return b.tagName.toLowerCase()=="turbo-stream"?[...a,b]:a},[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}r.contentType="text/vnd.turbo-stream.html",function(a){a[a.initialized=0]="initialized",a[a.requesting=1]="requesting",a[a.waiting=2]="waiting",a[a.receiving=3]="receiving",a[a.stopping=4]="stopping",a[a.stopped=5]="stopped"}(i||(i={})),function(a){a.urlEncoded="application/x-www-form-urlencoded",a.multipart="multipart/form-data",a.plain="text/plain"}(k||(k={}));function ap(a){switch(a.toLowerCase()){case k.multipart:return k.multipart;case k.plain:return k.plain;default:return k.urlEncoded}}class A{constructor(c,a,b,d=!1){this.state=i.initialized,this.delegate=c,this.formElement=a,this.submitter=b,this.formData=an(a,b),this.fetchRequest=new y(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=d}get method(){var b;const c=((b=this.submitter)===null||b===void 0?void 0:b.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return aG(c.toLowerCase())||a.get}get action(){var a;const b=typeof this.formElement.action=="string"?this.formElement.action:null;return((a=this.submitter)===null||a===void 0?void 0:a.getAttribute("formaction"))||this.formElement.getAttribute("action")||b||""}get location(){return g(this.action)}get body(){return this.enctype==k.urlEncoded||this.method==a.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var a;return ap(((a=this.submitter)===null||a===void 0?void 0:a.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce((b,[c,a])=>b.concat(typeof a=="string"?[[c,a]]:[]),[])}async start(){const{initialized:a,requesting:b}=i;if(this.state==a)return this.state=b,this.fetchRequest.perform()}stop(){const{stopping:a,stopped:b}=i;if(this.state!=a&&this.state!=b)return this.state=a,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(a,b){if(!b.isIdempotent){const b=al(O("csrf-param"))||O("csrf-token");b&&(a["X-CSRF-Token"]=b),a.Accept=[r.contentType,a.Accept].join(", ")}}requestStarted(a){this.state=i.waiting,c("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(b,a){this.result={success:a.succeeded,fetchResponse:a}}requestSucceededWithResponse(b,a){if(a.clientError||a.serverError)this.delegate.formSubmissionFailedWithResponse(this,a);else if(this.requestMustRedirect(b)&&ak(a)){const a=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,a)}else this.state=i.receiving,this.result={success:!0,fetchResponse:a},this.delegate.formSubmissionSucceededWithResponse(this,a)}requestFailedWithResponse(b,a){this.result={success:!1,fetchResponse:a},this.delegate.formSubmissionFailedWithResponse(this,a)}requestErrored(b,a){this.result={success:!1,error:a},this.delegate.formSubmissionErrored(this,a)}requestFinished(a){this.state=i.stopped,c("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(a){return!a.isIdempotent&&this.mustRedirect}}function an(e,a){const b=new FormData(e),c=a===null||a===void 0?void 0:a.getAttribute("name"),d=a===null||a===void 0?void 0:a.getAttribute("value");return c&&d!=null&&b.get(c)!=d&&b.append(c,d),b}function al(a){if(a!=null){const c=document.cookie?document.cookie.split("; "):[],b=c.find(b=>b.startsWith(a));if(b){const a=b.split("=").slice(1).join("=");return a?decodeURIComponent(a):void 0}}}function O(b){const a=document.querySelector(`meta[name="${b}"]`);return a&&a.content}function ak(a){return a.statusCode==200&&!a.redirected}class u{constructor(a){this.element=a}get children(){return[...this.element.children]}hasAnchor(a){return this.getElementForAnchor(a)!=null}getElementForAnchor(a){return a?this.element.querySelector(`[id='${a}'], a[name='${a}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return this.element.querySelector("[autofocus]")}get permanentElements(){return[...this.element.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(a){return this.element.querySelector(`#${a}[data-turbo-permanent]`)}getPermanentElementMapForSnapshot(b){const a={};for(const c of this.permanentElements){const{id:d}=c,e=b.getPermanentElementById(d);e&&(a[d]=[c,e])}return a}}class R{constructor(a,b){this.submitBubbled=a=>{if(a.target instanceof HTMLFormElement){const b=a.target,c=a.submitter||void 0;this.delegate.shouldInterceptFormSubmission(b,c)&&(a.preventDefault(),a.stopImmediatePropagation(),this.delegate.formSubmissionIntercepted(b,c))}},this.delegate=a,this.element=b}start(){this.element.addEventListener("submit",this.submitBubbled)}stop(){this.element.removeEventListener("submit",this.submitBubbled)}}class S{constructor(a,b){this.resolveRenderPromise=a=>{},this.resolveInterceptionPromise=a=>{},this.delegate=a,this.element=b}scrollToAnchor(b){const a=this.snapshot.getElementForAnchor(b);a?(this.scrollToElement(a),this.focusElement(a)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(a){this.scrollToAnchor(n(a))}scrollToElement(a){a.scrollIntoView()}focusElement(a){a instanceof HTMLElement&&(a.hasAttribute("tabindex")?a.focus():(a.setAttribute("tabindex","-1"),a.focus(),a.removeAttribute("tabindex")))}scrollToPosition({x:a,y:b}){this.scrollRoot.scrollTo(a,b)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(a){const{isPreview:c,shouldRender:d,newSnapshot:b}=a;if(d)try{this.renderPromise=new Promise(a=>this.resolveRenderPromise=a),this.renderer=a,this.prepareToRenderSnapshot(a);const d=new Promise(a=>this.resolveInterceptionPromise=a),e=this.delegate.allowsImmediateRender(b,this.resolveInterceptionPromise);e||await d,await this.renderSnapshot(a),this.delegate.viewRenderedSnapshot(b,c),this.finishRenderingSnapshot(a)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate()}invalidate(){this.delegate.viewInvalidated()}prepareToRenderSnapshot(a){this.markAsPreview(a.isPreview),a.prepareToRender()}markAsPreview(a){a?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(a){await a.render()}finishRenderingSnapshot(a){a.finishRendering()}}class aj extends S{invalidate(){this.element.innerHTML=""}get snapshot(){return new u(this.element)}}class U{constructor(a,b){this.clickBubbled=a=>{this.respondsToEventTarget(a.target)?this.clickEvent=a:delete this.clickEvent},this.linkClicked=a=>{this.clickEvent&&this.respondsToEventTarget(a.target)&&a.target instanceof Element&&this.delegate.shouldInterceptLinkClick(a.target,a.detail.url)&&(this.clickEvent.preventDefault(),a.preventDefault(),this.delegate.linkClickIntercepted(a.target,a.detail.url)),delete this.clickEvent},this.willVisit=()=>{delete this.clickEvent},this.delegate=a,this.element=b}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(a){const b=a instanceof Element?a:a instanceof Node?a.parentElement:null;return b&&b.closest("turbo-frame, html")==this.element}}class aa{constructor(a){this.permanentElementMap=a}static preservingPermanentElements(b,c){const a=new this(b);a.enter(),c(),a.leave()}enter(){for(const a in this.permanentElementMap){const[,b]=this.permanentElementMap[a];this.replaceNewPermanentElementWithPlaceholder(b)}}leave(){for(const b in this.permanentElementMap){const[a]=this.permanentElementMap[b];this.replaceCurrentPermanentElementWithClone(a),this.replacePlaceholderWithPermanentElement(a)}}replaceNewPermanentElementWithPlaceholder(a){const b=$(a);a.replaceWith(b)}replaceCurrentPermanentElementWithClone(a){const b=a.cloneNode(!0);a.replaceWith(b)}replacePlaceholderWithPermanentElement(b){const a=this.getPlaceholderById(b.id);a===null||a===void 0?void 0:a.replaceWith(b)}getPlaceholderById(a){return this.placeholders.find(b=>b.content==a)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function $(b){const a=document.createElement("meta");return a.setAttribute("name","turbo-permanent-placeholder"),a.setAttribute("content",b.id),a}class w{constructor(a,b,c){this.currentSnapshot=a,this.newSnapshot=b,this.isPreview=c,this.promise=new Promise((a,b)=>this.resolvingFunctions={resolve:a,reject:b})}get shouldRender(){return!0}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}createScriptElement(a){if(a.getAttribute("data-turbo-eval")=="false")return a;const createdScriptElement=document.createElement("script");return this.cspNonce&&(createdScriptElement.nonce=this.cspNonce),createdScriptElement.textContent=a.textContent,createdScriptElement.async=!1,Y(createdScriptElement,a),createdScriptElement}preservingPermanentElements(a){aa.preservingPermanentElements(this.permanentElementMap,a)}focusFirstAutofocusableElement(){const a=this.connectedSnapshot.firstAutofocusableElement;Z(a)&&a.focus()}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get cspNonce(){var a;return(a=document.head.querySelector('meta[name="csp-nonce"]'))===null||a===void 0?void 0:a.getAttribute("content")}}function Y(a,b){for(const{name:c,value:d}of[...b.attributes])a.setAttribute(c,d)}function Z(a){return a&&typeof a.focus=="function"}class _ extends w{get shouldRender(){return!0}async render(){await t(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await t(),this.focusFirstAutofocusableElement(),await t(),this.activateScriptElements()}loadFrameElement(){var a;const c=document.createRange();c.selectNodeContents(this.currentElement),c.deleteContents();const d=this.newElement,b=(a=d.ownerDocument)===null||a===void 0?void 0:a.createRange();b&&(b.selectNodeContents(d),this.currentElement.appendChild(b.extractContents()))}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const a=this.currentElement.firstElementChild,b=X(this.currentElement.getAttribute("data-autoscroll-block"),"end");if(a)return a.scrollIntoView({block:b}),!0}return!1}activateScriptElements(){for(const a of this.newScriptElements){const b=this.createScriptElement(a);a.replaceWith(b)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function X(a,b){return a=="end"||a=="start"||a=="center"||a=="nearest"?a:b}class m{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return W`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 9999;
        transition:
          width ${m.animationDuration}ms ease-out,
          opacity ${m.animationDuration/2}ms ${m.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(a){this.value=a,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(a){this.progressElement.style.opacity="0",setTimeout(a,m.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,m.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const a=document.createElement("style");return a.type="text/css",a.textContent=m.defaultCSS,a}createProgressElement(){const a=document.createElement("div");return a.className="turbo-progress-bar",a}}m.animationDuration=300;class ab extends u{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(a=>!af(a)).map(a=>ai(a)).reduce((b,a)=>{const{outerHTML:c}=a,d=c in b?b[c]:{type:ac(a),tracked:ad(a),elements:[]};return Object.assign(Object.assign({},b),{[c]:Object.assign(Object.assign({},d),{elements:[...d.elements,a]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(a=>this.detailsByOuterHTML[a].tracked).join("")}getScriptElementsNotInSnapshot(a){return this.getElementsMatchingTypeNotInSnapshot("script",a)}getStylesheetElementsNotInSnapshot(a){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",a)}getElementsMatchingTypeNotInSnapshot(a,b){return Object.keys(this.detailsByOuterHTML).filter(a=>!(a in b.detailsByOuterHTML)).map(a=>this.detailsByOuterHTML[a]).filter(({type:b})=>b==a).map(({elements:[a]})=>a)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((a,c)=>{const{type:d,tracked:e,elements:b}=this.detailsByOuterHTML[c];return d==null&&!e?[...a,...b]:b.length>1?[...a,...b.slice(1)]:a},[])}getMetaValue(b){const a=this.findMetaElementByName(b);return a?a.getAttribute("content"):null}findMetaElementByName(a){return Object.keys(this.detailsByOuterHTML).reduce((c,d)=>{const{elements:[b]}=this.detailsByOuterHTML[d];return ah(b,a)?b:c},void 0)}}function ac(a){if(ae(a))return"script";if(ag(a))return"stylesheet"}function ad(a){return a.getAttribute("data-turbo-track")=="reload"}function ae(a){const b=a.tagName.toLowerCase();return b=="script"}function af(a){const b=a.tagName.toLowerCase();return b=="noscript"}function ag(a){const b=a.tagName.toLowerCase();return b=="style"||b=="link"&&a.getAttribute("rel")=="stylesheet"}function ah(a,b){const c=a.tagName.toLowerCase();return c=="meta"&&a.getAttribute("name")==b}function ai(a){return a.hasAttribute("nonce")&&a.setAttribute("nonce",""),a}class l extends u{constructor(a,b){super(a),this.headSnapshot=b}static fromHTMLString(a=""){return this.fromDocument(E(a))}static fromElement(a){return this.fromDocument(a.ownerDocument)}static fromDocument({head:a,body:b}){return new this(b,new ab(a))}clone(){return new l(this.element.cloneNode(!0),this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var a;const b=(a=this.getSetting("root"))!==null&&a!==void 0?a:"/";return g(b)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(a){return this.headSnapshot.getMetaValue(`turbo-${a}`)}}(function(a){a.visitStart="visitStart",a.requestStart="requestStart",a.requestEnd="requestEnd",a.visitEnd="visitEnd"})(p||(p={})),function(a){a.initialized="initialized",a.started="started",a.canceled="canceled",a.failed="failed",a.completed="completed"}(e||(e={}));const am={action:"advance",historyChanged:!1};(function(a){a[a.networkFailure=0]="networkFailure",a[a.timeoutFailure=-1]="timeoutFailure",a[a.contentTypeMismatch=-2]="contentTypeMismatch"})(j||(j={}));class ao{constructor(a,b,c,d={}){this.identifier=q(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=e.initialized,this.delegate=a,this.location=b,this.restorationIdentifier=c||q();const{action:f,historyChanged:g,referrer:h,snapshotHTML:i,response:j}=Object.assign(Object.assign({},am),d);this.action=f,this.historyChanged=g,this.referrer=h,this.snapshotHTML=i,this.response=j,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==e.initialized&&(this.recordTimingMetric(p.visitStart),this.state=e.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==e.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=e.canceled)}complete(){this.state==e.started&&(this.recordTimingMetric(p.visitEnd),this.state=e.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this),this.followRedirect())}fail(){this.state==e.started&&(this.state=e.failed,this.adapter.visitFailed(this))}changeHistory(){var a;if(!this.historyChanged){const b=this.location.href===((a=this.referrer)===null||a===void 0?void 0:a.href)?"replace":this.action,c=this.getHistoryMethodForAction(b);this.history.update(c,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new y(this,a.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(p.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(a=this.response){if(this.response=a,a){const{statusCode:b}=a;K(b)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,b)}}finishRequest(){this.recordTimingMetric(p.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:b,responseHTML:a}=this.response;this.render(async()=>{this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,K(b)&&a!=null?(await this.view.renderPage(l.fromHTMLString(a)),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(l.fromHTMLString(a)),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const a=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(a&&(!n(this.location)||a.hasAnchor(n(this.location))))if(this.action=="restore"||a.isPreviewable)return a}getPreloadedSnapshot(){if(this.snapshotHTML)return l.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const a=this.getCachedSnapshot();if(a){const b=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(a,b),this.adapter.visitRendered(this),b||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.adapter.visitRendered(this)})}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(a,b){}async requestSucceededWithResponse(c,a){const b=await a.responseHTML;b==void 0?this.recordResponse({statusCode:j.contentTypeMismatch}):(this.redirectedToLocation=a.redirected?a.location:void 0,this.recordResponse({statusCode:a.statusCode,responseHTML:b}))}async requestFailedWithResponse(c,a){const b=await a.responseHTML;b==void 0?this.recordResponse({statusCode:j.contentTypeMismatch}):this.recordResponse({statusCode:a.statusCode,responseHTML:b})}requestErrored(a,b){this.recordResponse({statusCode:j.networkFailure})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:a}=this.restorationData;if(a)return this.view.scrollToPosition(a),!0}scrollToAnchor(){const a=n(this.location);if(a!=null)return this.view.scrollToAnchor(a),!0}recordTimingMetric(a){this.timingMetrics[a]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(a){switch(a){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return!this.isSamePage&&(this.action!="restore"||!this.hasCachedSnapshot())}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(),this.snapshotCached=!0)}async render(a){this.cancelRender(),await new Promise(a=>{this.frame=requestAnimationFrame(()=>a())}),await a(),delete this.frame,this.performScroll()}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function K(a){return a>=200&&a<300}class aq{constructor(a){this.progressBar=new m,this.showProgressBar=()=>{this.progressBar.show()},this.session=a}visitProposedToLocation(a,b){this.navigator.startVisit(a,q(),b)}visitStarted(a){a.issueRequest(),a.changeHistory(),a.goToSamePageAnchor(),a.loadCachedSnapshot()}visitRequestStarted(a){this.progressBar.setValue(0),a.hasCachedSnapshot()||a.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(a){a.loadResponse()}visitRequestFailedWithStatusCode(a,b){switch(b){case j.networkFailure:case j.timeoutFailure:case j.contentTypeMismatch:return this.reload();default:return a.loadResponse()}}visitRequestFinished(a){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(a){}pageInvalidated(){this.reload()}visitFailed(a){}visitRendered(a){}formSubmissionStarted(a){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(a){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(){window.location.reload()}get navigator(){return this.session.navigator}}class ar{constructor(){this.started=!1}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}removeStaleElements(){const a=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(const b of a)b.remove()}}class at{constructor(a){this.started=!1,this.submitCaptured=()=>{removeEventListener("submit",this.submitBubbled,!1),addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=a=>{if(!a.defaultPrevented){const c=a.target instanceof HTMLFormElement?a.target:void 0,b=a.submitter||void 0;if(c){const d=(b===null||b===void 0?void 0:b.getAttribute("formmethod"))||c.method;d!="dialog"&&this.delegate.willSubmitForm(c,b)&&(a.preventDefault(),this.delegate.formSubmitted(c,b))}}},this.delegate=a}start(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class au{constructor(a){this.element=a,this.linkInterceptor=new U(this,a),this.formInterceptor=new R(this,a)}start(){this.linkInterceptor.start(),this.formInterceptor.start()}stop(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(a,b){return this.shouldRedirect(a)}linkClickIntercepted(b,c){const a=this.findFrameElement(b);a&&(a.setAttribute("reloadable",""),a.src=c)}shouldInterceptFormSubmission(a,b){return this.shouldRedirect(a,b)}formSubmissionIntercepted(b,c){const a=this.findFrameElement(b,c);a&&(a.removeAttribute("reloadable"),a.delegate.formSubmissionIntercepted(b,c))}shouldRedirect(a,c){const b=this.findFrameElement(a,c);return!!b&&b!=a.closest("turbo-frame")}findFrameElement(c,a){const b=(a===null||a===void 0?void 0:a.getAttribute("data-turbo-frame"))||c.getAttribute("data-turbo-frame");if(b&&b!="_top"){const a=this.element.querySelector(`#${b}:not([disabled])`);if(a instanceof o)return a}}}class av{constructor(a){this.restorationIdentifier=q(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=a=>{if(this.shouldHandlePopState()){const{turbo:b}=a.state||{};if(b){this.location=new URL(window.location.href);const{restorationIdentifier:a}=b;this.restorationIdentifier=a,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,a)}}},this.onPageLoad=async a=>{await aM(),this.pageLoaded=!0},this.delegate=a}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(a,b){this.update(history.pushState,a,b)}replace(a,b){this.update(history.replaceState,a,b)}update(c,a,b=q()){const d={turbo:{restorationIdentifier:b}};c.call(history,d,"",a.href),this.location=a,this.restorationIdentifier=b}getRestorationDataForIdentifier(a){return this.restorationData[a]||{}}updateRestorationData(b){const{restorationIdentifier:a}=this,c=this.restorationData[a];this.restorationData[a]=Object.assign(Object.assign({},c),b)}assumeControlOfScrollRestoration(){var a;this.previousScrollRestoration||(this.previousScrollRestoration=(a=history.scrollRestoration)!==null&&a!==void 0?a:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class aw{constructor(a){this.started=!1,this.clickCaptured=()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=a=>{if(this.clickEventIsSignificant(a)){const c=a.composedPath&&a.composedPath()[0]||a.target,b=this.findLinkFromClickTarget(c);if(b){const c=this.getLocationForLink(b);this.delegate.willFollowLinkToLocation(b,c)&&(a.preventDefault(),this.delegate.followedLinkToLocation(b,c))}}},this.delegate=a}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(a){return!(a.target&&a.target.isContentEditable||a.defaultPrevented||a.which>1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)}findLinkFromClickTarget(a){if(a instanceof Element)return a.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(a){return g(a.getAttribute("href")||"")}}function G(a){return a=="advance"||a=="replace"||a=="restore"}class ay{constructor(a){this.delegate=a}proposeVisit(a,b={}){this.delegate.allowsVisitingLocationWithAction(a,b.action)&&this.delegate.visitProposedToLocation(a,b)}startVisit(a,b,c={}){this.stop(),this.currentVisit=new ao(this,g(a),b,Object.assign({referrer:this.location},c)),this.currentVisit.start()}submitForm(a,b){this.stop(),this.formSubmission=new A(this,a,b,!0),this.formSubmission.isIdempotent?this.proposeVisit(this.formSubmission.fetchRequest.url,{action:this.getActionForFormSubmission(this.formSubmission)}):this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(a){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(a)}async formSubmissionSucceededWithResponse(c,b){if(c==this.formSubmission){const d=await b.responseHTML;if(d){c.method!=a.get&&this.view.clearSnapshotCache();const{statusCode:e}=b,f={response:{statusCode:e,responseHTML:d}};this.proposeVisit(b.location,f)}}}async formSubmissionFailedWithResponse(c,a){const b=await a.responseHTML;if(b){const c=l.fromHTMLString(b);a.serverError?await this.view.renderError(c):await this.view.renderPage(c),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(b,a){console.error(a)}formSubmissionFinished(a){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(a)}visitStarted(a){this.delegate.visitStarted(a)}visitCompleted(a){this.delegate.visitCompleted(a)}locationWithActionIsSamePage(b,c){const a=n(b),d=n(this.view.lastRenderedLocation),e=c==="restore"&&typeof a=="undefined";return c!=="replace"&&z(b)===z(this.view.lastRenderedLocation)&&(e||a!=null&&a!==d)}visitScrolledToSamePageLocation(a,b){this.delegate.visitScrolledToSamePageLocation(a,b)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(c){const{formElement:d,submitter:a}=c,b=(a===null||a===void 0?void 0:a.getAttribute("data-turbo-action"))||d.getAttribute("data-turbo-action");return G(b)?b:"advance"}}(function(a){a[a.initial=0]="initial",a[a.loading=1]="loading",a[a.interactive=2]="interactive",a[a.complete=3]="complete"})(f||(f={}));class aA{constructor(a){this.stage=f.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:a}=this;a=="interactive"?this.pageIsInteractive():a=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=a}start(){this.started||(this.stage==f.initial&&(this.stage=f.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==f.loading&&(this.stage=f.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==f.interactive&&(this.stage=f.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class aB{constructor(a){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=a}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(a){this.delegate.scrollPositionChanged(a)}}class aC{constructor(a){this.sources=new Set,this.started=!1,this.inspectFetchResponse=b=>{const a=aD(b);a&&aE(a)&&(b.preventDefault(),this.receiveMessageResponse(a))},this.receiveMessageEvent=a=>{this.started&&typeof a.data=="string"&&this.receiveMessageHTML(a.data)},this.delegate=a}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(a){this.streamSourceIsConnected(a)||(this.sources.add(a),a.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(a){this.streamSourceIsConnected(a)&&(this.sources.delete(a),a.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(a){return this.sources.has(a)}async receiveMessageResponse(b){const a=await b.responseHTML;a&&this.receiveMessageHTML(a)}receiveMessageHTML(a){this.delegate.receivedMessageFromStream(new r(a))}}function aD(c){var a;const b=(a=c.detail)===null||a===void 0?void 0:a.fetchResponse;if(b instanceof C)return b}function aE(b){var a;const c=(a=b.contentType)!==null&&a!==void 0?a:"";return c.startsWith(r.contentType)}class aF extends w{async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:a,head:b,body:c}=document;a.replaceChild(this.newHead,b),a.replaceChild(this.newElement,c)}activateScriptElements(){for(const a of this.scriptElements){const b=a.parentNode;if(b){const c=this.createScriptElement(a);b.replaceChild(c,a)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class x extends w{get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}prepareToRender(){this.mergeHead()}async render(){this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){this.preservingPermanentElements(()=>{this.activateNewBody(),this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){for(const a of this.newHeadStylesheetElements)document.head.appendChild(a)}copyNewHeadScriptElements(){for(const a of this.newHeadScriptElements)document.head.appendChild(this.createScriptElement(a))}removeCurrentHeadProvisionalElements(){for(const a of this.currentHeadProvisionalElements)document.head.removeChild(a)}copyNewHeadProvisionalElements(){for(const a of this.newHeadProvisionalElements)document.head.appendChild(a)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const a of this.newBodyScriptElements){const b=this.createScriptElement(a);a.replaceWith(b)}}assignNewBody(){document.body&&this.newElement instanceof HTMLBodyElement?document.body.replaceWith(this.newElement):document.documentElement.appendChild(this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class aH{constructor(a){this.keys=[],this.snapshots={},this.size=a}has(a){return s(a)in this.snapshots}get(a){if(this.has(a)){const b=this.read(a);return this.touch(a),b}}put(a,b){return this.write(a,b),this.touch(a),b}clear(){this.snapshots={}}read(a){return this.snapshots[s(a)]}write(a,b){this.snapshots[s(a)]=b}touch(c){const a=s(c),b=this.keys.indexOf(a);b>-1&&this.keys.splice(b,1),this.keys.unshift(a),this.trim()}trim(){for(const a of this.keys.splice(this.size))delete this.snapshots[a]}}class aI extends S{constructor(){super(...arguments),this.snapshotCache=new aH(10),this.lastRenderedLocation=new URL(location.href)}renderPage(a,b=!1){const c=new x(this.snapshot,a,b);return this.render(c)}renderError(a){const b=new aF(this.snapshot,a,!1);return this.render(b)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();const{snapshot:a,lastRenderedLocation:b}=this;await aN(),this.snapshotCache.put(b,a.clone())}}getCachedSnapshotForLocation(a){return this.snapshotCache.get(a)}get snapshot(){return l.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}class aJ{constructor(){this.navigator=new ay(this),this.history=new av(this),this.view=new aI(this,document.documentElement),this.adapter=new aq(this),this.pageObserver=new aA(this),this.cacheObserver=new ar,this.linkClickObserver=new aw(this),this.formSubmitObserver=new at(this),this.scrollObserver=new aB(this),this.streamObserver=new aC(this),this.frameRedirector=new au(document.documentElement),this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(a){this.adapter=a}visit(a,b={}){this.navigator.proposeVisit(g(a),b)}connectStreamSource(a){this.streamObserver.connectStreamSource(a)}disconnectStreamSource(a){this.streamObserver.disconnectStreamSource(a)}renderStreamMessage(a){document.documentElement.appendChild(r.wrap(a).fragment)}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(a){this.progressBarDelay=a}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(a,b){this.enabled?this.navigator.startVisit(a,b,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()}scrollPositionChanged(a){this.history.updateRestorationData({scrollPosition:a})}willFollowLinkToLocation(a,b){return this.elementDriveEnabled(a)&&this.locationIsVisitable(b)&&this.applicationAllowsFollowingLinkToLocation(a,b)}followedLinkToLocation(a,b){const c=this.getActionForLink(a);this.convertLinkWithMethodClickToFormSubmission(a)||this.visit(b.href,{action:c})}convertLinkWithMethodClickToFormSubmission(a){var b;const d=a.getAttribute("data-turbo-method");if(d){const e=document.createElement("form");return e.method=d,e.action=a.getAttribute("href")||"undefined",(b=a.parentNode)===null||b===void 0?void 0:b.insertBefore(e,a),c("submit",{cancelable:!0,target:e})}return!1}allowsVisitingLocationWithAction(a,b){return this.locationWithActionIsSamePage(a,b)||this.applicationAllowsVisitingLocation(a)}visitProposedToLocation(a,b){L(a),this.adapter.visitProposedToLocation(a,b)}visitStarted(a){L(a.location),a.silent||this.notifyApplicationAfterVisitingLocation(a.location,a.action)}visitCompleted(a){this.notifyApplicationAfterPageLoad(a.getTimingMetrics())}locationWithActionIsSamePage(a,b){return this.navigator.locationWithActionIsSamePage(a,b)}visitScrolledToSamePageLocation(a,b){this.notifyApplicationAfterVisitingSamePageLocation(a,b)}willSubmitForm(a,b){return this.elementDriveEnabled(a)&&this.elementDriveEnabled(b)}formSubmitted(a,b){this.navigator.submitForm(a,b)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(a){this.renderStreamMessage(a)}viewWillCacheSnapshot(){var a;((a=this.navigator.currentVisit)===null||a===void 0?void 0:a.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:a},b){const c=this.notifyApplicationBeforeRender(a,b);return!c.defaultPrevented}viewRenderedSnapshot(a,b){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}viewInvalidated(){this.adapter.pageInvalidated()}frameLoaded(a){this.notifyApplicationAfterFrameLoad(a)}frameRendered(a,b){this.notifyApplicationAfterFrameRender(a,b)}applicationAllowsFollowingLinkToLocation(a,b){const c=this.notifyApplicationAfterClickingLinkToLocation(a,b);return!c.defaultPrevented}applicationAllowsVisitingLocation(a){const b=this.notifyApplicationBeforeVisitingLocation(a);return!b.defaultPrevented}notifyApplicationAfterClickingLinkToLocation(a,b){return c("turbo:click",{target:a,detail:{url:b.href},cancelable:!0})}notifyApplicationBeforeVisitingLocation(a){return c("turbo:before-visit",{detail:{url:a.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(a,b){return c("turbo:visit",{detail:{url:a.href,action:b}})}notifyApplicationBeforeCachingSnapshot(){return c("turbo:before-cache")}notifyApplicationBeforeRender(a,b){return c("turbo:before-render",{detail:{newBody:a,resume:b},cancelable:!0})}notifyApplicationAfterRender(){return c("turbo:render")}notifyApplicationAfterPageLoad(a={}){return c("turbo:load",{detail:{url:this.location.href,timing:a}})}notifyApplicationAfterVisitingSamePageLocation(a,b){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:a.toString(),newURL:b.toString()}))}notifyApplicationAfterFrameLoad(a){return c("turbo:frame-load",{target:a})}notifyApplicationAfterFrameRender(a,b){return c("turbo:frame-render",{detail:{fetchResponse:a},target:b,cancelable:!0})}elementDriveEnabled(b){const a=b===null||b===void 0?void 0:b.closest("[data-turbo]");return this.drive?!a||a.getAttribute("data-turbo")!="false":!!a&&a.getAttribute("data-turbo")=="true"}getActionForLink(b){const a=b.getAttribute("data-turbo-action");return G(a)?a:"advance"}locationIsVisitable(a){return aT(a,this.snapshot.rootLocation)&&aU(a)}get snapshot(){return this.view.snapshot}}function L(a){Object.defineProperties(a,aL)}const aL={absoluteURL:{get(){return this.toString()}}},b=new aJ,{navigator:B}=b;function v(){b.start()}function D(a){b.registerAdapter(a)}function F(a,c){b.visit(a,c)}function H(a){b.connectStreamSource(a)}function I(a){b.disconnectStreamSource(a)}function M(a){b.renderStreamMessage(a)}function N(){b.clearCache()}function P(a){b.setProgressBarDelay(a)}J=Object.freeze({__proto__:null,navigator:B,session:b,PageRenderer:x,PageSnapshot:l,start:v,registerAdapter:D,visit:F,connectStreamSource:H,disconnectStreamSource:I,renderStreamMessage:M,clearCache:N,setProgressBarDelay:P});class aX{constructor(a){this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.settingSourceURL=!1,this.element=a,this.view=new aj(this,this.element),this.appearanceObserver=new ax(this,this.element),this.linkInterceptor=new U(this,this.element),this.formInterceptor=new R(this,this.element)}connect(){this.connected||(this.connected=!0,this.reloadable=!1,this.loadingStyle==h.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start(),this.sourceURLChanged())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop())}disabledChanged(){this.loadingStyle==h.eager&&this.loadSourceURL()}sourceURLChanged(){(this.loadingStyle==h.eager||this.hasBeenLoaded)&&this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==h.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){if(!this.settingSourceURL&&this.enabled&&this.isActive&&(this.reloadable||this.sourceURL!=this.currentURL)){const a=this.currentURL;if(this.currentURL=this.sourceURL,this.sourceURL)try{this.element.loaded=this.visit(this.sourceURL),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0,b.frameLoaded(this.element)}catch(b){throw this.currentURL=a,b}}}async loadResponse(a){a.redirected&&(this.sourceURL=a.response.url);try{const c=await a.responseHTML;if(c){const{body:d}=E(c),e=new u(await this.extractForeignFrameElement(d)),f=new _(this.view.snapshot,e,!1);this.view.renderPromise&&await this.view.renderPromise,await this.view.render(f),b.frameRendered(a,this.element)}}catch(a){console.error(a),this.view.invalidate()}}elementAppearedInViewport(a){this.loadSourceURL()}shouldInterceptLinkClick(a,b){return!a.hasAttribute("data-turbo-method")&&this.shouldInterceptNavigation(a)}linkClickIntercepted(a,b){this.reloadable=!0,this.navigateFrame(a,b)}shouldInterceptFormSubmission(a,b){return this.shouldInterceptNavigation(a,b)}formSubmissionIntercepted(a,b){if(this.formSubmission&&this.formSubmission.stop(),this.reloadable=!1,this.formSubmission=new A(this,a,b),this.formSubmission.fetchRequest.isIdempotent)this.navigateFrame(a,this.formSubmission.fetchRequest.url.href,b);else{const{fetchRequest:a}=this.formSubmission;this.prepareHeadersForRequest(a.headers,a),this.formSubmission.start()}}prepareHeadersForRequest(a,b){a["Turbo-Frame"]=this.id}requestStarted(a){this.element.setAttribute("busy","")}requestPreventedHandlingResponse(a,b){this.resolveVisitPromise()}async requestSucceededWithResponse(b,a){await this.loadResponse(a),this.resolveVisitPromise()}requestFailedWithResponse(b,a){console.error(a),this.resolveVisitPromise()}requestErrored(b,a){console.error(a),this.resolveVisitPromise()}requestFinished(a){this.element.removeAttribute("busy")}formSubmissionStarted(a){const b=this.findFrameElement(a.formElement);b.setAttribute("busy","")}formSubmissionSucceededWithResponse(a,b){const c=this.findFrameElement(a.formElement,a.submitter);c.delegate.loadResponse(b)}formSubmissionFailedWithResponse(b,a){this.element.delegate.loadResponse(a)}formSubmissionErrored(b,a){console.error(a)}formSubmissionFinished(a){const b=this.findFrameElement(a.formElement);b.removeAttribute("busy")}allowsImmediateRender(a,b){return!0}viewRenderedSnapshot(a,b){}viewInvalidated(){}async visit(b){const c=new y(this,a.get,g(b),void 0,this.element);return new Promise(a=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},a()},c.perform()})}navigateFrame(b,c,d){const a=this.findFrameElement(b,d);a.setAttribute("reloadable",""),a.src=c}findFrameElement(c,a){var b;const d=(a===null||a===void 0?void 0:a.getAttribute("data-turbo-frame"))||c.getAttribute("data-turbo-frame")||this.element.getAttribute("target");return(b=Q(d))!==null&&b!==void 0?b:this.element}async extractForeignFrameElement(c){let a;const b=CSS.escape(this.id);try{if(a=T(c.querySelector(`turbo-frame#${b}`),this.currentURL))return a;if(a=T(c.querySelector(`turbo-frame[src][recurse~=${b}]`),this.currentURL))return await a.loaded,await this.extractForeignFrameElement(a);console.error(`Response has no matching <turbo-frame id="${b}"> element`)}catch(a){console.error(a)}return new o}shouldInterceptNavigation(d,a){const c=(a===null||a===void 0?void 0:a.getAttribute("data-turbo-frame"))||d.getAttribute("data-turbo-frame")||this.element.getAttribute("target");if(!this.enabled||c=="_top")return!1;if(c){const a=Q(c);if(a)return!a.disabled}return!!b.elementDriveEnabled(d)&&(!(a&&!b.elementDriveEnabled(a)))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}get reloadable(){const a=this.findFrameElement(this.element);return a.hasAttribute("reloadable")}set reloadable(b){const a=this.findFrameElement(this.element);b?a.setAttribute("reloadable",""):a.removeAttribute("reloadable")}set sourceURL(a){this.settingSourceURL=!0,this.element.src=a!==null&&a!==void 0?a:null,this.currentURL=this.element.src,this.settingSourceURL=!1}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get isActive(){return this.element.isActive&&this.connected}}function Q(a){if(a!=null){const b=document.getElementById(a);if(b instanceof o)return b}}function T(a,b){if(a){const c=a.getAttribute("src");if(c!=null&&b!=null&&aS(c,b))throw new Error(`Matching <turbo-frame id="${a.id}"> element has a source URL which references itself`);if(a.ownerDocument!==document&&(a=document.importNode(a,!0)),a instanceof o)return a.connectedCallback(),a}}const a_={after(){this.targetElements.forEach(b=>{var a;return(a=b.parentElement)===null||a===void 0?void 0:a.insertBefore(this.templateContent,b.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.append(this.templateContent))},before(){this.targetElements.forEach(b=>{var a;return(a=b.parentElement)===null||a===void 0?void 0:a.insertBefore(this.templateContent,b)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(a=>a.prepend(this.templateContent))},remove(){this.targetElements.forEach(a=>a.remove())},replace(){this.targetElements.forEach(a=>a.replaceWith(this.templateContent))},update(){this.targetElements.forEach(a=>{a.innerHTML="",a.append(this.templateContent)})}};class a$ extends HTMLElement{async connectedCallback(){try{await this.render()}catch(a){console.error(a)}finally{this.disconnect()}}async render(){var a;return(a=this.renderPromise)!==null&&a!==void 0?a:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await t(),this.performAction())})()}disconnect(){try{this.remove()}catch(a){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(a=>a.remove())}get duplicateChildren(){var a;const b=this.targetElements.flatMap(a=>[...a.children]).filter(a=>!!a.id),c=[...(a=this.templateContent)===null||a===void 0?void 0:a.children].filter(a=>!!a.id).map(a=>a.id);return b.filter(a=>c.includes(a.id))}get performAction(){if(this.action){const a=a_[this.action];if(a)return a;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(a){throw new Error(`${this.description}: ${a}`)}get description(){var a,b;return(b=((a=this.outerHTML.match(/<[^>]+>/))!==null&&a!==void 0?a:[])[0])!==null&&b!==void 0?b:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}get targetElementsById(){var a;const b=(a=this.ownerDocument)===null||a===void 0?void 0:a.getElementById(this.target);return b!==null?[b]:[]}get targetElementsByQuery(){var a;const b=(a=this.ownerDocument)===null||a===void 0?void 0:a.querySelectorAll(this.targets);return b.length!==0?Array.prototype.slice.call(b):[]}}o.delegateConstructor=aX,customElements.define("turbo-frame",o),customElements.define("turbo-stream",a$),(()=>{let a=document.currentScript;if(!a)return;if(a.hasAttribute("data-turbo-suppress-warning"))return;while(a=a.parentElement)if(a==document.body)return console.warn(W`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,a.outerHTML)})(),window.Turbo=J,v(),d.PageRenderer=x,d.PageSnapshot=l,d.clearCache=N,d.connectStreamSource=H,d.disconnectStreamSource=I,d.navigator=B,d.registerAdapter=D,d.renderStreamMessage=M,d.session=b,d.setProgressBarDelay=P,d.start=v,d.visit=F,Object.defineProperty(d,"__esModule",{value:!0})})});b()})(),(()=>{function a(a){document.documentElement.addEventListener("turbo:load",a)}var b=()=>{document.body.classList.toggle("dark"),localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light")};a(function(){document.getElementById("mode").addEventListener("click",b),localStorage.getItem("theme")==="dark"&&document.body.classList.add("dark")})})(),(()=>{var b=Object.create,a=Object.defineProperty,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,e=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,g=b=>a(b,"__esModule",{value:!0}),h=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},i=(c,b,g)=>{if(b&&typeof b=="object"||typeof b=="function")for(let h of e(b))!d.call(c,h)&&h!=="default"&&a(c,h,{get:()=>b[h],enumerable:!(g=f(b,h))||g.enumerable});return c},j=d=>{return d&&d.__esModule?d:i(g(a(d!=null?b(c(d)):{},"default",{value:d,enumerable:!0})),d)},k=h((b,a)=>{(function(b,d){var c=d(b,b.document,Date);b.lazySizes=c,typeof a=="object"&&a.exports&&(a.exports=c)})(typeof window!="undefined"?window:{},function(d,b,j){"use strict";var f,a,h,E,i,c,g,e,A,s,x,F,q,C,k,l,u,v,o,w,n,z,m,p,D,y,B,t,r;return function(){var c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125},b;a=d.lazySizesConfig||d.lazysizesConfig||{};for(b in c)b in a||(a[b]=c[b])}(),!b||!b.getElementsByClassName?{init:function(){},cfg:a,noSupport:!0}:(h=b.documentElement,E=d.HTMLPictureElement,i="addEventListener",c="getAttribute",g=d[i].bind(d),e=d.setTimeout,A=d.requestAnimationFrame||e,s=d.requestIdleCallback,x=/^picture$/i,F=["load","error","lazyincluded","_lazyloaded"],q={},C=Array.prototype.forEach,k=function(b,a){return q[a]||(q[a]=new RegExp("(\\s|^)"+a+"(\\s|$)")),q[a].test(b[c]("class")||"")&&q[a]},l=function(a,b){k(a,b)||a.setAttribute("class",(a[c]("class")||"").trim()+" "+b)},u=function(a,d){var b;(b=k(a,d))&&a.setAttribute("class",(a[c]("class")||"").replace(b," "))},v=function(a,b,c){var d=c?i:"removeEventListener";c&&v(a,b),F.forEach(function(c){a[d](c,b)})},o=function(d,e,a,g,h){var c=b.createEvent("Event");return a||(a={}),a.instance=f,c.initEvent(e,!g,!h),c.detail=a,d.dispatchEvent(c),c},w=function(e,b){var f;!E&&(f=d.picturefill||a.pf)?(b&&b.src&&!e[c]("srcset")&&e.setAttribute("srcset",b.src),f({reevaluate:!0,elements:[e]})):b&&b.src&&(e.src=b.src)},n=function(a,b){return(getComputedStyle(a,null)||{})[b]},z=function(d,c,b){for(b=b||d.offsetWidth;b<a.minSize&&c&&!d._lazysizesWidth;)b=c.offsetWidth,c=c.parentNode;return b},m=function(){var d=[],i=[],f=d,g=function(){var b=f;for(f=d.length?i:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,h){a&&!h?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?e:A)(g)))},c,a;return h._lsFlush=g,h}(),p=function(a,b){return b?function(){m(a)}:function(){var b=this,c=arguments;m(function(){a.apply(b,c)})}},D=function(i){var f=0,h=a.throttleDelay,b=a.ricTimeout,g=function(){c=!1,f=j.now(),i()},d=s&&b>49?function(){s(g,{timeout:b}),b!==a.ricTimeout&&(b=a.ricTimeout)}:p(function(){e(g)},!0),c;return function(g){var a;if((g=g===!0)&&(b=33),c)return;c=!0,a=h-(j.now()-f),a<0&&(a=0),g||a<9?d():e(d,a)}},y=function(g){var b=99,d=function(){a=null,g()},f=function(){var a=j.now()-c;a<b?e(f,b-a):(s||d)(d)},c,a;return function(){c=j.now(),a||(a=e(f,b))}},B=function(){var Z=/^img$/i,ae=/^iframe$/i,ad="onscroll"in d&&!/(gle|ing)bot/.test(navigator.userAgent),ab=0,F=0,r=0,s=-1,S=function(a){r--,(!a||r<0||!a.target)&&(r=0)},T=function(a){return K==null&&(K=n(b.body,"visibility")=="hidden"),K||!(n(a.parentNode,"visibility")=="hidden"&&n(a,"visibility")=="hidden")},X=function(f,e){var a=f,d=T(f),c;for(G-=e,J+=e,H-=e,I+=e;d&&(a=a.offsetParent)&&a!=b.body&&a!=h;)d=(n(a,"opacity")||1)>0,d&&n(a,"overflow")!="visible"&&(c=a.getBoundingClientRect(),d=I>c.left&&H<c.right&&J>c.top-1&&G<c.bottom+1);return d},V=function(){var e=f.elements,d,i,k,o,g,m,l,q,j,p,n,t;if((E=a.loadMode)&&r<8&&(t=e.length)){for(d=0,s++;d<t;d++){if(!e[d]||e[d]._lazyRace)continue;if(!ad||f.prematureUnveil&&f.prematureUnveil(e[d])){B(e[d]);continue}if((!(l=e[d][c]("data-expand"))||!(g=l*1))&&(g=F),j||(j=!a.expand||a.expand<1?h.clientHeight>500&&h.clientWidth>500?500:370:a.expand,f._defEx=j,p=j*a.expFactor,n=a.hFac,K=null,F<p&&r<1&&s>2&&E>2&&!b.hidden?(F=p,s=0):E>1&&s>1&&r<6?F=j:F=ab),q!==g&&(R=innerWidth+g*n,Q=innerHeight+g,m=g*-1,q=g),i=e[d].getBoundingClientRect(),(J=i.bottom)>=m&&(G=i.top)<=Q&&(I=i.right)>=m*n&&(H=i.left)<=R&&(J||I||H||G)&&(a.loadHidden||T(e[d]))&&(z&&r<3&&!l&&(E<3||s<4)||X(e[d],g))){if(B(e[d]),o=!0,r>9)break}else!o&&z&&!k&&r<4&&s<4&&E>2&&(L[0]||a.preloadAfterLoad)&&(L[0]||!l&&(J||I||H||G||e[d][c](a.sizesAttr)!="auto"))&&(k=L[0]||e[d])}k&&!o&&B(k)}},q=D(V),U=function(c){var b=c.target;if(b._lazyCache){delete b._lazyCache;return}S(c),l(b,a.loadedClass),u(b,a.loadingClass),v(b,P),o(b,"lazyloaded")},Y=p(U),P=function(a){Y({target:a.target})},_=function(b,c){var d=b.getAttribute("data-load-mode")||a.iframeLoadMode;d==0?b.contentWindow.location.replace(c):d==1&&(b.src=c)},$=function(b){var e=b[c](a.srcsetAttr),d;(d=a.customMedia[b[c]("data-media")||b[c]("media")])&&b.setAttribute("media",d),e&&b.setAttribute("srcset",e)},aa=p(function(b,k,q,n,p){var d,g,h,f,i,j;(i=o(b,"lazybeforeunveil",k)).defaultPrevented||(n&&(q?l(b,a.autosizesClass):b.setAttribute("sizes",n)),g=b[c](a.srcsetAttr),d=b[c](a.srcAttr),p&&(h=b.parentNode,f=h&&x.test(h.nodeName||"")),j=k.firesLoad||"src"in b&&(g||d||f),i={target:b},l(b,a.loadingClass),j&&(clearTimeout(O),O=e(S,2500),v(b,P,!0)),f&&C.call(h.getElementsByTagName("source"),$),g?b.setAttribute("srcset",g):d&&!f&&(ae.test(b.nodeName)?_(b,d):b.src=d),p&&(g||f)&&w(b,{src:d})),b._lazyRace&&delete b._lazyRace,u(b,a.lazyClass),m(function(){var c=b.complete&&b.naturalWidth>1;(!j||c)&&(c&&l(b,a.fastLoadedClass),U(i),b._lazyCache=!0,e(function(){"_lazyCache"in b&&delete b._lazyCache},9)),b.loading=="lazy"&&r--},!0)}),B=function(b){var f,d,g,e;if(b._lazyRace)return;if(d=Z.test(b.nodeName),g=d&&(b[c](a.sizesAttr)||b[c]("sizes")),e=g=="auto",(e||!z)&&d&&(b[c]("src")||b.srcset)&&!b.complete&&!k(b,a.errorClass)&&k(b,a.lazyClass))return;f=o(b,"lazyunveilread").detail,e&&t.updateElem(b,!0,b.offsetWidth),b._lazyRace=!0,r++,aa(b,f,e,g,d)},ac=y(function(){a.loadMode=3,q()}),N=function(){a.loadMode==3&&(a.loadMode=2),ac()},M=function(){if(z)return;if(j.now()-W<999){e(M,999);return}z=!0,a.loadMode=3,q(),g("scroll",N,!0)},J,K,L,z,O,E,W,R,Q,G,H,I;return{_:function(){W=j.now(),f.elements=b.getElementsByClassName(a.lazyClass),L=b.getElementsByClassName(a.lazyClass+" "+a.preloadClass),g("scroll",q,!0),g("resize",q,!0),g("pageshow",function(d){if(d.persisted){var c=b.querySelectorAll("."+a.loadingClass);c.length&&c.forEach&&A(function(){c.forEach(function(a){a.complete&&B(a)})})}}),d.MutationObserver?new MutationObserver(q).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[i]("DOMNodeInserted",q,!0),h[i]("DOMAttrModified",q,!0),setInterval(q,999)),g("hashchange",q,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[i](a,q,!0)}),/d$|^c/.test(b.readyState)?M():(g("load",M),b[i]("DOMContentLoaded",q),e(M,2e4)),f.elements.length?(V(),m._lsFlush()):q()},checkElems:q,unveil:B,_aLSL:N}}(),t=function(){var f=p(function(c,e,f,a){var d,b,g;if(c._lazysizesWidth=a,a+="px",c.setAttribute("sizes",a),x.test(e.nodeName||"")){d=e.getElementsByTagName("source");for(b=0,g=d.length;b<g;b++)d[b].setAttribute("sizes",a)}f.detail.dataAttr||w(c,f.detail)}),d=function(b,e,a){var d=b.parentNode,c;d&&(a=z(b,d,a),c=o(b,"lazybeforesizes",{width:a,dataAttr:!!e}),c.defaultPrevented||(a=c.detail.width,a&&a!==b._lazysizesWidth&&f(b,d,c,a)))},h=function(){var b=c.length,a;if(b)for(a=0;a<b;a++)d(c[a])},e=y(h),c;return{_:function(){c=b.getElementsByClassName(a.autosizesClass),g("resize",e)},checkElems:e,updateElem:d}}(),r=function(){!r.i&&b.getElementsByClassName&&(r.i=!0,t._(),B._())},e(function(){a.init&&r()}),f={cfg:a,autoSizer:t,loader:B,init:r,uP:w,aC:l,rC:u,hC:k,fire:o,gW:z,rAF:m},f)})}),l=j(k());document.addEventListener("turbo:before-cache",()=>{const b=document.querySelectorAll('[data-turbo-cache="false"]');for(var a=0,c=b.length;a<c;a++)b[a].remove()})})(),(()=>{var b=Object.create,a=Object.defineProperty,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,e=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,g=b=>a(b,"__esModule",{value:!0}),h=(b,a)=>()=>{return a||(a={exports:{}},b(a.exports,a)),a.exports},i=(c,b,g)=>{if(b&&typeof b=="object"||typeof b=="function")for(let h of e(b))!d.call(c,h)&&h!=="default"&&a(c,h,{get:()=>b[h],enumerable:!(g=f(b,h))||g.enumerable});return c},j=d=>{return d&&d.__esModule?d:i(g(a(d!=null?b(c(d)):{},"default",{value:d,enumerable:!0})),d)},k=h((b,a)=>{(function(c,b){typeof define=="function"&&define.amd?define([],b):typeof a=="object"&&a.exports?a.exports=b():c.SimpleLightbox=b()})(b,function(){function f(d){for(var b=1,a,c;b<arguments.length;b++)if(a=arguments[b],a)for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}function e(a,b){a&&b&&(a.className+=" "+b)}function d(a,b){a&&b&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").trim())}function b(b){var a=document.createElement("div");return a.innerHTML=b.trim(),a.childNodes[0]}function c(a,b){return(a.matches||a.matchesSelector||a.msMatchesSelector).call(a,b)}function g(){return"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight}function a(a){this.init.apply(this,arguments)}return a.defaults={elementClass:"",elementLoadingClass:"slbLoading",htmlClass:"slbActive",closeBtnClass:"",nextBtnClass:"",prevBtnClass:"",loadingTextClass:"",closeBtnCaption:"Close",nextBtnCaption:"Next",prevBtnCaption:"Previous",loadingCaption:"Loading...",bindToItems:!0,closeOnOverlayClick:!0,closeOnEscapeKey:!0,nextOnImageClick:!0,showCaptions:!0,captionAttribute:"title",urlAttribute:"href",startAt:0,loadingTimeout:100,appendTarget:"body",beforeSetContent:null,beforeClose:null,afterClose:null,beforeDestroy:null,afterDestroy:null,videoRegex:new RegExp(/youtube.com|vimeo.com/)},f(a.prototype,{init:function(b){var c,d;b=this.options=f({},a.defaults,b),c=this,b.$items&&(d=b.$items.get()),b.elements&&(d=[].slice.call(typeof b.elements=="string"?document.querySelectorAll(b.elements):b.elements)),this.eventRegistry={lightbox:[],thumbnails:[]},this.items=[],this.captions=[],d&&d.forEach(function(a,d){c.items.push(a.getAttribute(b.urlAttribute)),c.captions.push(a.getAttribute(b.captionAttribute)),b.bindToItems&&c.addEvent(a,"click",function(a){a.preventDefault(),c.showPosition(d)},"thumbnails")}),b.items&&(this.items=b.items),b.captions&&(this.captions=b.captions)},addEvent:function(a,b,c,d){return this.eventRegistry[d||"lightbox"].push({element:a,eventName:b,callback:c}),a.addEventListener(b,c),this},removeEvents:function(a){return this.eventRegistry[a].forEach(function(a){a.element.removeEventListener(a.eventName,a.callback)}),this.eventRegistry[a]=[],this},next:function(){return this.showPosition(this.currentPosition+1)},prev:function(){return this.showPosition(this.currentPosition-1)},normalizePosition:function(a){return a>=this.items.length?a=0:a<0&&(a=this.items.length-1),a},showPosition:function(b){var a=this.normalizePosition(b);return typeof this.currentPosition!="undefined"&&(this.direction=a>this.currentPosition?"next":"prev"),this.currentPosition=a,this.setupLightboxHtml().prepareItem(this.currentPosition,this.setContent).show()},loading:function(c){var b=this,a=this.options;c?this.loadingTimeout=setTimeout(function(){e(b.$el,a.elementLoadingClass),b.$content.innerHTML='<p class="slbLoadingText '+a.loadingTextClass+'">'+a.loadingCaption+"</p>",b.show()},a.loadingTimeout):(d(this.$el,a.elementLoadingClass),clearTimeout(this.loadingTimeout))},prepareItem:function(d,f){var a=this,c=this.items[d],e;return this.loading(!0),this.options.videoRegex.test(c)?f.call(a,b('<div class="slbIframeCont"><iframe class="slbIframe" frameborder="0" allowfullscreen src="'+c+'"></iframe></div>')):(e=b('<div class="slbImageWrap"><img class="slbImage" src="'+c+'" /></div>'),this.$currentImage=e.querySelector(".slbImage"),this.options.showCaptions&&this.captions[d]&&e.appendChild(b('<div class="slbCaption">'+this.captions[d]+"</div>")),this.loadImage(c,function(){a.setImageDimensions(),f.call(a,e),a.loadImage(a.items[a.normalizePosition(a.currentPosition+1)])})),this},loadImage:function(a,b){if(!this.options.videoRegex.test(a)){var c=new Image;b&&(c.onload=b),c.src=a}},setupLightboxHtml:function(){var a=this.options;return this.$el||(this.$el=b('<div class="slbElement '+a.elementClass+'"><div class="slbOverlay"></div><div class="slbWrapOuter"><div class="slbWrap"><div class="slbContentOuter"><div class="slbContent"></div><button type="button" title="'+a.closeBtnCaption+'" class="slbCloseBtn '+a.closeBtnClass+'">\xD7</button>'+(this.items.length>1?'<div class="slbArrows"><button type="button" title="'+a.prevBtnCaption+'" class="prev slbArrow'+a.prevBtnClass+'">'+a.prevBtnCaption+'</button><button type="button" title="'+a.nextBtnCaption+'" class="next slbArrow'+a.nextBtnClass+'">'+a.nextBtnCaption+"</button></div>":"")+"</div></div></div></div>"),this.$content=this.$el.querySelector(".slbContent")),this.$content.innerHTML="",this},show:function(){return this.modalInDom||(document.querySelector(this.options.appendTarget).appendChild(this.$el),e(document.documentElement,this.options.htmlClass),this.setupLightboxEvents(),this.modalInDom=!0),this},setContent:function(a){var c=typeof a=="string"?b(a):a;return this.loading(!1),this.setupLightboxHtml(),d(this.$content,"slbDirectionNext"),d(this.$content,"slbDirectionPrev"),this.direction&&e(this.$content,this.direction==="next"?"slbDirectionNext":"slbDirectionPrev"),this.options.beforeSetContent&&this.options.beforeSetContent(c,this),this.$content.appendChild(c),this},setImageDimensions:function(){this.$currentImage&&(this.$currentImage.style.maxHeight=g()+"px")},setupLightboxEvents:function(){var a=this;return this.eventRegistry.lightbox.length?this:(this.addEvent(this.$el,"click",function(d){var b=d.target;c(b,".slbCloseBtn")||a.options.closeOnOverlayClick&&c(b,".slbWrap")?a.close():c(b,".slbArrow")?c(b,".next")?a.next():a.prev():a.options.nextOnImageClick&&a.items.length>1&&c(b,".slbImage")&&a.next()}).addEvent(document,"keyup",function(b){a.options.closeOnEscapeKey&&b.keyCode===27&&a.close(),a.items.length>1&&((b.keyCode===39||b.keyCode===68)&&a.next(),(b.keyCode===37||b.keyCode===65)&&a.prev())}).addEvent(window,"resize",function(){a.setImageDimensions()}),this)},close:function(){this.modalInDom&&(this.runHook("beforeClose"),this.removeEvents("lightbox"),this.$el&&this.$el.parentNode.removeChild(this.$el),d(document.documentElement,this.options.htmlClass),this.modalInDom=!1,this.runHook("afterClose")),this.direction=void 0,this.currentPosition=this.options.startAt},destroy:function(){this.close(),this.runHook("beforeDestroy"),this.removeEvents("thumbnails"),this.runHook("afterDestroy")},runHook:function(a){this.options[a]&&this.options[a](this)}}),a.open=function(b){var c=new a(b);return b.content?c.setContent(b.content).show():c.showPosition(c.options.startAt)},a.registerAsJqueryPlugin=function(b){b.fn.simpleLightbox=function(d){var e=this,c;return this.each(function(){b.data(this,"simpleLightbox")||(c=c||new a(b.extend({},d,{$items:e})),b.data(this,"simpleLightbox",c))})},b.SimpleLightbox=a},typeof window!="undefined"&&window.jQuery&&a.registerAsJqueryPlugin(window.jQuery),a})}),l=j(k());function m(a){document.documentElement.addEventListener("turbo:load",a)}m(function(){const a=document.querySelectorAll("[data-lightbox]");if(!a)return;new l.default({elements:a})})})()